(window.webpackJsonp=window.webpackJsonp||[]).push([[153],{510:function(v,_,t){"use strict";t.r(_);var o=t(7),e=Object(o.a)({},(function(){var v=this,_=v._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[_("p",[v._v("Docker 卷主要有以下四种类型，每种类型的生命周期及特点如下：")]),v._v(" "),_("hr"),v._v(" "),_("p",[_("strong",[v._v("1. 匿名卷（Anonymous Volume）")])]),v._v(" "),_("p",[v._v("• 定义：由 Docker 自动创建，名称是随机哈希值（如 "),_("code",[v._v("d983c9f3d...")]),v._v("），通常通过 "),_("code",[v._v("VOLUME")]),v._v(" 指令或 "),_("code",[v._v("-v")]),v._v(" 指定容器内路径隐式创建。")]),v._v(" "),_("p",[v._v("• 生命周期：")]),v._v(" "),_("p",[v._v("• 默认：容器删除后，匿名卷仍保留在宿主机上，成为“孤儿卷”，需手动清理（如 "),_("code",[v._v("docker volume prune")]),v._v("）。")]),v._v(" "),_("p",[v._v("• 自动删除：若启动容器时添加 "),_("code",[v._v("--rm")]),v._v(" 参数，容器退出时匿名卷会被自动删除。")]),v._v(" "),_("p",[v._v("• 适用场景：临时存储（如测试环境、缓存）或无需显式管理的场景。")]),v._v(" "),_("hr"),v._v(" "),_("p",[_("strong",[v._v("2. 命名卷（Named Volume）")])]),v._v(" "),_("p",[v._v("• 定义：用户显式创建并命名的卷（如 "),_("code",[v._v("docker volume create my-vol")]),v._v("），可通过名称直接引用。")]),v._v(" "),_("p",[v._v("• 生命周期：")]),v._v(" "),_("p",[v._v("• 独立于容器：即使容器被删除，命名卷仍持久存在，需手动删除（"),_("code",[v._v("docker volume rm")]),v._v("）。")]),v._v(" "),_("p",[v._v("• 支持跨容器共享：多个容器可挂载同一命名卷，实现数据共享。")]),v._v(" "),_("p",[v._v("• 适用场景：生产环境中的持久化数据（如数据库文件、配置文件）。")]),v._v(" "),_("hr"),v._v(" "),_("p",[_("strong",[v._v("3. 绑定挂载（Bind Mount）")])]),v._v(" "),_("p",[v._v("• 定义：直接将宿主机的目录或文件挂载到容器中（如 "),_("code",[v._v("-v /host/path:/container/path")]),v._v("），数据存储在用户指定的宿主机路径。")]),v._v(" "),_("p",[v._v("• 生命周期：")]),v._v(" "),_("p",[v._v("• 与宿主机目录同步：数据完全由宿主机管理，容器删除不影响宿主机目录的内容。")]),v._v(" "),_("p",[v._v("• 无自动清理机制：需用户手动管理宿主机目录的备份或删除。")]),v._v(" "),_("p",[v._v("• 适用场景：开发环境（代码热更新）、直接操作宿主机文件。")]),v._v(" "),_("hr"),v._v(" "),_("p",[_("strong",[v._v("4. 临时文件系统（tmpfs Mount）")])]),v._v(" "),_("p",[v._v("• 定义：将数据存储在容器的内存中，而非磁盘（如 "),_("code",[v._v("--tmpfs /app/cache")]),v._v("），性能最佳但无持久性。")]),v._v(" "),_("p",[v._v("• 生命周期：")]),v._v(" "),_("p",[v._v("• 临时性：容器停止时数据立即丢失，重启后无法恢复。")]),v._v(" "),_("p",[v._v("• 适用场景：缓存、临时会话数据等无需持久化的场景。")]),v._v(" "),_("hr"),v._v(" "),_("p",[_("strong",[v._v("生命周期对比")])]),v._v(" "),_("table",[_("thead",[_("tr",[_("th",[v._v("卷类型")]),v._v(" "),_("th",[v._v("创建方式")]),v._v(" "),_("th",[v._v("数据存储位置")]),v._v(" "),_("th",[v._v("生命周期管理")]),v._v(" "),_("th",[v._v("持久性")])])]),v._v(" "),_("tbody",[_("tr",[_("td",[v._v("匿名卷")]),v._v(" "),_("td",[v._v("Docker自动生成")]),v._v(" "),_("td",[v._v("Docker管理目录")]),v._v(" "),_("td",[v._v("默认保留，需手动或 "),_("code",[v._v("--rm")])]),v._v(" "),_("td",[v._v("中（依赖手动清理）")])]),v._v(" "),_("tr",[_("td",[v._v("命名卷")]),v._v(" "),_("td",[_("code",[v._v("docker volume create")])]),v._v(" "),_("td",[v._v("Docker管理目录")]),v._v(" "),_("td",[v._v("手动删除")]),v._v(" "),_("td",[v._v("高")])]),v._v(" "),_("tr",[_("td",[v._v("绑定挂载")]),v._v(" "),_("td",[v._v("指定宿主机路径")]),v._v(" "),_("td",[v._v("用户指定宿主机目录")]),v._v(" "),_("td",[v._v("完全用户管理")]),v._v(" "),_("td",[v._v("高（依赖宿主机）")])]),v._v(" "),_("tr",[_("td",[v._v("tmpfs卷")]),v._v(" "),_("td",[_("code",[v._v("--tmpfs")]),v._v(" 或 "),_("code",[v._v("docker run")])]),v._v(" "),_("td",[v._v("容器内存")]),v._v(" "),_("td",[v._v("容器停止即销毁")]),v._v(" "),_("td",[v._v("无")])])])]),v._v(" "),_("hr"),v._v(" "),_("p",[_("strong",[v._v("最佳实践建议")])]),v._v(" "),_("ol",[_("li",[v._v("命名卷优先：生产环境推荐使用命名卷，便于管理和备份。")]),v._v(" "),_("li",[v._v("绑定挂载用于开发：开发时绑定宿主机目录，方便实时修改代码。")]),v._v(" "),_("li",[v._v("谨慎使用匿名卷：结合 "),_("code",[v._v("--rm")]),v._v(" 参数避免孤儿卷积累。")]),v._v(" "),_("li",[v._v("tmpfs优化性能：适用于高频临时数据（如缓存）。")])]),v._v(" "),_("p",[v._v("如需更详细的命令示例或高级管理技巧，可参考相关文档。")])])}),[],!1,null,null,null);_.default=e.exports}}]);