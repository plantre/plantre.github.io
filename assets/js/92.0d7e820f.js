(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{449:function(s,a,t){"use strict";t.r(a);var n=t(7),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("ä»¥ä¸‹æ˜¯åŸºäº Spring Boot å®˜æ–¹æ–‡æ¡£åŠå¤šç¯‡å®è·µæ€»ç»“çš„ "),a("code",[s._v("application.yml")]),s._v(" ä¸­ Kafka çš„æœ€å…¨é…ç½®è¯¦è§£ï¼Œæ¶µç›–ç”Ÿäº§è€…ã€æ¶ˆè´¹è€…ã€ç›‘å¬å™¨ã€å®‰å…¨è®¤è¯ç­‰åœºæ™¯ï¼ŒæŒ‰æ¨¡å—åˆ†ç±»æ•´ç†ï¼š")]),s._v(" "),a("hr"),s._v(" "),a("h3",{attrs:{id:"âš™ï¸-ä¸€ã€å…¬å…±åŸºç¡€é…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#âš™ï¸-ä¸€ã€å…¬å…±åŸºç¡€é…ç½®"}},[s._v("#")]),s._v(" âš™ï¸ "),a("strong",[s._v("ä¸€ã€å…¬å…±åŸºç¡€é…ç½®")])]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spring")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kafka")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Kafka é›†ç¾¤åœ°å€ï¼ˆå¿…å¡«ï¼Œå¤šèŠ‚ç‚¹é€—å·åˆ†éš”ï¼‰")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("bootstrap-servers")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" kafka"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("node1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9092")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("kafka"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("node2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9092")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("kafka"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("node3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9092")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å…¨å±€å±æ€§æ‰©å±•ï¼ˆæ”¯æŒæ‰€æœ‰ Kafka åŸç”Ÿå‚æ•°ï¼‰")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("properties")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("security.protocol")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" SASL_SSL  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å®‰å…¨åè®®ï¼ˆå¦‚ SASL_SSLï¼‰")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("sasl.mechanism")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" SCRAM"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("SHA"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("256")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è®¤è¯æœºåˆ¶")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("sasl.jaas.config")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(' org.apache.kafka.common.security.scram.ScramLoginModule required username="user" password="secret"; '),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# JAAS é…ç½®")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("hr"),s._v(" "),a("h3",{attrs:{id:"ğŸ“¤-äºŒã€ç”Ÿäº§è€…é…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ“¤-äºŒã€ç”Ÿäº§è€…é…ç½®"}},[s._v("#")]),s._v(" ğŸ“¤ "),a("strong",[s._v("äºŒã€ç”Ÿäº§è€…é…ç½®")])]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spring")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kafka")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("producer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åºåˆ—åŒ–å™¨ï¼ˆå¿…å¡«ï¼‰")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("key-serializer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" org.apache.kafka.common.serialization.StringSerializer\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("value-serializer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" org.apache.kafka.common.serialization.StringSerializer\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ¶ˆæ¯ç¡®è®¤æœºåˆ¶ï¼ˆå¯é æ€§ï¼‰")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("acks")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" all  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯é€‰å€¼ï¼š0ï¼ˆæ— éœ€ç¡®è®¤ï¼‰ã€1ï¼ˆLeader ç¡®è®¤ï¼‰ã€allï¼ˆISR å…¨éƒ¨ç¡®è®¤ï¼‰")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("retries")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å‘é€å¤±è´¥é‡è¯•æ¬¡æ•°")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ€§èƒ½ä¼˜åŒ–")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("batch-size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16384")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ‰¹é‡å‘é€å¤§å°ï¼ˆå­—èŠ‚ï¼‰ï¼Œé»˜è®¤ 16KB")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("linger-ms")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ¶ˆæ¯ç­‰å¾…æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ï¼Œç§¯æ”’æ›´å¤šæ¶ˆæ¯æ‰¹é‡å‘é€")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("buffer-memory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("33554432")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç”Ÿäº§è€…ç¼“å†²åŒºå¤§å°ï¼ˆå­—èŠ‚ï¼‰ï¼Œé»˜è®¤ 32MB")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("compression-type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" gzip  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å‹ç¼©ç®—æ³•ï¼ˆå¯é€‰ gzip/lz4/snappyï¼‰")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# äº‹åŠ¡æ”¯æŒï¼ˆéœ€é…åˆ @Transactionalï¼‰")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("transaction-id-prefix")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" tx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¼€å¯äº‹åŠ¡éœ€é…ç½®å‰ç¼€")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("hr"),s._v(" "),a("h3",{attrs:{id:"ğŸ“¥-ä¸‰ã€æ¶ˆè´¹è€…é…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ“¥-ä¸‰ã€æ¶ˆè´¹è€…é…ç½®"}},[s._v("#")]),s._v(" ğŸ“¥ "),a("strong",[s._v("ä¸‰ã€æ¶ˆè´¹è€…é…ç½®")])]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spring")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kafka")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("consumer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ååºåˆ—åŒ–å™¨ï¼ˆå¿…å¡«ï¼‰")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("key-deserializer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" org.apache.kafka.common.serialization.StringDeserializer\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("value-deserializer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" org.apache.kafka.common.serialization.StringDeserializer\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ¶ˆè´¹è€…ç»„ï¼ˆå¿…å¡«ï¼‰")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("group-id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" my"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("consumer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("group\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åç§»é‡é‡ç½®ç­–ç•¥ï¼ˆæ— åç§»æ—¶ï¼‰")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("auto-offset-reset")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" earliest  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯é€‰ï¼šearliestï¼ˆæœ€æ—©ï¼‰ã€latestï¼ˆæœ€æ–°ï¼‰ã€noneï¼ˆæŠ¥é”™ï¼‰")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åç§»é‡æäº¤")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("enable-auto-commit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("false")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ˜¯å¦è‡ªåŠ¨æäº¤åç§»é‡ï¼ˆå»ºè®®æ‰‹åŠ¨æäº¤ï¼‰")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("auto-commit-interval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 1000ms  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è‡ªåŠ¨æäº¤é—´éš”ï¼ˆé»˜è®¤ 5sï¼‰")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ¶ˆæ¯æ‹‰å–æ§åˆ¶")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("max-poll-records")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("500")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å•æ¬¡ poll() æœ€å¤§æ¶ˆæ¯æ•°ï¼ˆé»˜è®¤ 500ï¼‰")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("fetch-max-wait")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 500ms  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ‹‰å–æ¶ˆæ¯æœ€é•¿ç­‰å¾…æ—¶é—´")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("fetch-min-size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æœ€å°æ‹‰å–æ•°æ®é‡ï¼ˆå­—èŠ‚ï¼‰")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä¼šè¯ä¸å¿ƒè·³")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("session-timeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 30000ms  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ¶ˆè´¹è€…ä¼šè¯è¶…æ—¶æ—¶é—´ï¼ˆé»˜è®¤ 10sï¼‰")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("heartbeat-interval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 3000ms  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¿ƒè·³é—´éš”ï¼ˆéœ€å°äº session-timeoutï¼‰")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("hr"),s._v(" "),a("h3",{attrs:{id:"ğŸ”-å››ã€ç›‘å¬å™¨é…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”-å››ã€ç›‘å¬å™¨é…ç½®"}},[s._v("#")]),s._v(" ğŸ” "),a("strong",[s._v("å››ã€ç›‘å¬å™¨é…ç½®")])]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spring")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kafka")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("listener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ¶ˆè´¹æ¨¡å¼")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" batch  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯é€‰ï¼šsingleï¼ˆå•æ¡ï¼‰ã€batchï¼ˆæ‰¹é‡ï¼‰")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¹¶å‘æ§åˆ¶")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("concurrency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ¯ä¸ªç›‘å¬å™¨çš„å¹¶å‘çº¿ç¨‹æ•°ï¼ˆéœ€ â‰¤ åˆ†åŒºæ•°ï¼‰")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åç§»é‡æäº¤æ–¹å¼")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ack-mode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" manual_immediate  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ‰‹åŠ¨æäº¤ï¼ˆå¯é€‰ï¼šRECORDã€BATCHã€TIMEç­‰ï¼‰")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é”™è¯¯å¤„ç†")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("missing-topics-fatal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("false")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Topic ä¸å­˜åœ¨æ—¶æ˜¯å¦æŠ¥é”™ï¼ˆé»˜è®¤ trueï¼‰")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("hr"),s._v(" "),a("h3",{attrs:{id:"ğŸ”’-äº”ã€å®‰å…¨è®¤è¯æ‰©å±•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”’-äº”ã€å®‰å…¨è®¤è¯æ‰©å±•"}},[s._v("#")]),s._v(" ğŸ”’ "),a("strong",[s._v("äº”ã€å®‰å…¨è®¤è¯æ‰©å±•")])]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spring")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kafka")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("properties")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# SSL åŠ å¯†")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("security.protocol")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" SSL\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ssl.truststore-location")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" classpath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("/kafka.client.truststore.jks\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ssl.truststore-password")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" changeit\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# SASL è®¤è¯")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("security.protocol")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" SASL_SSL\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("sasl.mechanism")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" PLAIN\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("sasl.jaas.config")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(' org.apache.kafka.common.security.plain.PlainLoginModule required username="admin" password="admin'),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v('secret";\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("hr"),s._v(" "),a("h3",{attrs:{id:"âš ï¸-å…­ã€é‡è¦æ³¨æ„äº‹é¡¹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#âš ï¸-å…­ã€é‡è¦æ³¨æ„äº‹é¡¹"}},[s._v("#")]),s._v(" âš ï¸ "),a("strong",[s._v("å…­ã€é‡è¦æ³¨æ„äº‹é¡¹")])]),s._v(" "),a("ol",[a("li",[a("p",[a("strong",[s._v("åºåˆ—åŒ–å…¼å®¹æ€§")])]),s._v(" "),a("ul",[a("li",[s._v("è‹¥ä¼ è¾“ JSON æ•°æ®ï¼Œä½¿ç”¨ "),a("code",[s._v("JsonSerializer")]),s._v("/"),a("code",[s._v("JsonDeserializer")]),s._v("ï¼Œå¹¶é…ç½®ä¿¡ä»»åŒ…ï¼š"),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spring.kafka.consumer.properties.spring.json.trusted.packages")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" com.example.model\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("æ‰¹é‡æ¶ˆè´¹ä¼˜åŒ–")])]),s._v(" "),a("ul",[a("li",[s._v("å¯ç”¨ "),a("code",[s._v("batch")]),s._v(" ç›‘å¬å™¨æ—¶ï¼Œæ¶ˆè´¹è€…æ–¹æ³•å‚æ•°éœ€æ”¹ä¸º "),a("code",[s._v("List<ConsumerRecord>")]),s._v("ï¼š"),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@KafkaListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("topics "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"my-topic"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("batchListen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("List")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ConsumerRecord")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" records"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ‰¹é‡å¤„ç†é€»è¾‘")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("ç”Ÿäº§ç¯å¢ƒå»ºè®®")])]),s._v(" "),a("ul",[a("li",[s._v("å…³é—­è‡ªåŠ¨æäº¤ï¼ˆ"),a("code",[s._v("enable-auto-commit: false")]),s._v("ï¼‰ï¼Œé€šè¿‡ "),a("code",[s._v("Acknowledgment")]),s._v(" æ‰‹åŠ¨æäº¤åç§»é‡")]),s._v(" "),a("li",[s._v("é…ç½® "),a("code",[s._v("retries")]),s._v(" å’Œ "),a("code",[s._v("delivery.timeout.ms")]),s._v(" é˜²æ­¢æ¶ˆæ¯ä¸¢å¤±")]),s._v(" "),a("li",[s._v("ç›‘æ§ "),a("code",[s._v("max.poll.interval.ms")]),s._v(" é¿å…æ¶ˆè´¹è€…è¢«è¸¢å‡ºç»„")])])])]),s._v(" "),a("hr"),s._v(" "),a("h3",{attrs:{id:"ğŸ’-æ€»ç»“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ’-æ€»ç»“"}},[s._v("#")]),s._v(" ğŸ’ "),a("strong",[s._v("æ€»ç»“")])]),s._v(" "),a("blockquote",[a("p",[s._v("ä»¥ä¸Šé…ç½®è¦†ç›–äº† Kafka åœ¨ Spring Boot ä¸­çš„æ ¸å¿ƒåœºæ™¯ï¼Œå®é™…ä½¿ç”¨æ—¶å¯æ ¹æ®éœ€æ±‚åˆ å‡ã€‚å®Œæ•´é…ç½®æ¨¡æ¿å¯å‚è€ƒ "),a("a",{attrs:{href:"https://docs.spring.io/spring-kafka/docs/current/reference/html/#configuration",target:"_blank",rel:"noopener noreferrer"}},[s._v("Spring Kafka å®˜æ–¹æ–‡æ¡£"),a("OutboundLink")],1),s._v("ã€‚")])])])}),[],!1,null,null,null);a.default=e.exports}}]);