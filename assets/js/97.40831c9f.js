(window.webpackJsonp=window.webpackJsonp||[]).push([[97],{454:function(r,v,_){"use strict";_.r(v);var t=_(7),e=Object(t.a)({},(function(){var r=this,v=r._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":r.$parent.slotKey}},[v("p",[r._v("åœ¨åŒ…å« 3 ä¸ª Broker çš„ Kafka é›†ç¾¤ä¸­ï¼Œä¸€ä¸ª Topic çš„åˆ†åŒºåˆ†å¸ƒå’Œå‰¯æœ¬åˆ†é…éµå¾ªç‰¹å®šçš„ç®—æ³•è§„åˆ™ï¼Œä»¥ä¸‹æ˜¯è¯¦ç»†è§£æï¼š")]),r._v(" "),v("hr"),r._v(" "),v("h3",{attrs:{id:"âš™ï¸-ä¸€ã€å‰¯æœ¬æ•°é™åˆ¶ä¸åˆ†å¸ƒé€»è¾‘"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#âš™ï¸-ä¸€ã€å‰¯æœ¬æ•°é™åˆ¶ä¸åˆ†å¸ƒé€»è¾‘"}},[r._v("#")]),r._v(" âš™ï¸ "),v("strong",[r._v("ä¸€ã€å‰¯æœ¬æ•°é™åˆ¶ä¸åˆ†å¸ƒé€»è¾‘")])]),r._v(" "),v("ol",[v("li",[v("p",[v("strong",[r._v("å‰¯æœ¬æ•°ä¸Šé™")])]),r._v(" "),v("ul",[v("li",[v("strong",[r._v("å‰¯æœ¬æ•°ï¼ˆReplication Factorï¼‰ä¸èƒ½è¶…è¿‡ Broker æ•°")]),r._v("ï¼ˆæ­¤å¤„æœ€å¤§ä¸º 3ï¼‰ã€‚")]),r._v(" "),v("li",[r._v("è‹¥å‰¯æœ¬æ•° > 3ï¼ˆå¦‚ 4ï¼‰ï¼ŒKafka ä¼šæŠ¥é”™ï¼Œå› æ— æ³•ä¸ºæ¯ä¸ªå‰¯æœ¬åˆ†é…ç‹¬ç«‹çš„ Brokerã€‚")])])]),r._v(" "),v("li",[v("p",[v("strong",[r._v("å‰¯æœ¬åˆ†é…ç›®æ ‡")]),v("br"),r._v("\nKafka ä¼š"),v("strong",[r._v("å‡åŒ€åˆ†æ•£å‰¯æœ¬")]),r._v("åˆ°æ‰€æœ‰ Broker ä¸Šï¼Œç¡®ä¿ï¼š")]),r._v(" "),v("ul",[v("li",[r._v("æ¯ä¸ªåˆ†åŒºçš„ Leader å‰¯æœ¬åˆ†å¸ƒåœ¨ä¸åŒçš„ Brokerï¼ˆè´Ÿè½½å‡è¡¡ï¼‰ã€‚")]),r._v(" "),v("li",[r._v("åŒä¸€åˆ†åŒºçš„å¤šä¸ªå‰¯æœ¬åˆ†æ•£åœ¨ä¸åŒ Brokerï¼ˆå®¹é”™æ€§ï¼‰ã€‚")])])])]),r._v(" "),v("hr"),r._v(" "),v("h3",{attrs:{id:"ğŸ”¢-äºŒã€åˆ†åŒºåˆ†å¸ƒç®—æ³•"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”¢-äºŒã€åˆ†åŒºåˆ†å¸ƒç®—æ³•"}},[r._v("#")]),r._v(" ğŸ”¢ "),v("strong",[r._v("äºŒã€åˆ†åŒºåˆ†å¸ƒç®—æ³•")])]),r._v(" "),v("p",[r._v("Kafka é»˜è®¤ä½¿ç”¨ "),v("strong",[r._v("Round-Robinï¼ˆè½®è¯¢ï¼‰ç­–ç•¥")]),r._v("åˆ†é…åˆ†åŒºåˆ° Brokerã€‚"),v("br"),r._v("\nä»¥ 10 åˆ†åŒºã€3 Broker ä¸ºä¾‹ï¼š")]),r._v(" "),v("ol",[v("li",[v("strong",[r._v("åˆ†åŒºåˆ†é…è¿‡ç¨‹")]),r._v("ï¼š\n"),v("ul",[v("li",[r._v("åˆ†åŒº 0 â†’ Broker 0")]),r._v(" "),v("li",[r._v("åˆ†åŒº 1 â†’ Broker 1")]),r._v(" "),v("li",[r._v("åˆ†åŒº 2 â†’ Broker 2")]),r._v(" "),v("li",[r._v("åˆ†åŒº 3 â†’ Broker 0ï¼ˆè½®è¯¢å›åˆ° Broker 0ï¼‰")]),r._v(" "),v("li",[r._v("ä¾æ­¤ç±»æ¨ï¼Œç›´åˆ°åˆ†é…å®Œ 10 ä¸ªåˆ†åŒºã€‚")])])]),r._v(" "),v("li",[v("strong",[r._v("ç»“æœåˆ†å¸ƒç¤ºä¾‹")]),r._v("ï¼š\n"),v("table",[v("thead",[v("tr",[v("th",[r._v("Broker")]),r._v(" "),v("th",[r._v("åˆ†é…çš„åˆ†åŒºç¼–å·ï¼ˆLeaderï¼‰")])])]),r._v(" "),v("tbody",[v("tr",[v("td",[r._v("Broker0")]),r._v(" "),v("td",[r._v("0, 3, 6, 9")])]),r._v(" "),v("tr",[v("td",[r._v("Broker1")]),r._v(" "),v("td",[r._v("1, 4, 7")])]),r._v(" "),v("tr",[v("td",[r._v("Broker2")]),r._v(" "),v("td",[r._v("2, 5, 8")])])])])])]),r._v(" "),v("blockquote",[v("p",[r._v("âœ… "),v("strong",[r._v("ç‰¹ç‚¹")]),r._v("ï¼š")]),r._v(" "),v("ul",[v("li",[r._v("åˆ†åŒºæ•°æ— æ³•æ•´é™¤ Broker æ•°æ—¶ï¼Œéƒ¨åˆ† Broker å¯èƒ½å¤šåˆ†é… 1 ä¸ªåˆ†åŒºï¼ˆå¦‚ Broker0 åˆ†é… 4 ä¸ªï¼‰ã€‚")])])]),r._v(" "),v("hr"),r._v(" "),v("h3",{attrs:{id:"ğŸ”„-ä¸‰ã€å‰¯æœ¬åˆ†é…ç®—æ³•"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”„-ä¸‰ã€å‰¯æœ¬åˆ†é…ç®—æ³•"}},[r._v("#")]),r._v(" ğŸ”„ "),v("strong",[r._v("ä¸‰ã€å‰¯æœ¬åˆ†é…ç®—æ³•")])]),r._v(" "),v("p",[r._v("åœ¨åˆ†åŒº Leader åˆ†é…å®Œæˆåï¼Œ"),v("strong",[r._v("å‰¯æœ¬ï¼ˆFollowerï¼‰æŒ‰åç§»é‡è§„åˆ™åˆ†é…")]),r._v("ï¼Œç¡®ä¿ä¸ Leader ä¸åœ¨åŒä¸€ Brokerã€‚"),v("br"),r._v(" "),v("strong",[r._v("åˆ†é…é€»è¾‘")]),r._v("ï¼š")]),r._v(" "),v("ol",[v("li",[v("strong",[r._v("é¦–ä¸ªå‰¯æœ¬ï¼ˆLeaderï¼‰")]),r._v("ï¼šé€šè¿‡è½®è¯¢ç¡®å®šä½ç½®ï¼ˆå¦‚åˆ†åŒº 0 çš„ Leader åœ¨ Broker0ï¼‰ã€‚")]),r._v(" "),v("li",[v("strong",[r._v("åç»­å‰¯æœ¬ï¼ˆFollowerï¼‰")]),r._v("ï¼š\n"),v("ul",[v("li",[r._v("ç¬¬ "),v("code",[r._v("j")]),r._v(" ä¸ªå‰¯æœ¬ä½ç½® = "),v("code",[r._v("(Leaderä½ç½® + j) % Brokeræ€»æ•°")])]),r._v(" "),v("li",[r._v("ä¾‹å¦‚åˆ†åŒº 0ï¼ˆLeader åœ¨ Broker0ï¼‰çš„å‰¯æœ¬åˆ†é…ï¼š\n"),v("ul",[v("li",[r._v("å‰¯æœ¬ 1ï¼ˆFollower1ï¼‰â†’ "),v("code",[r._v("(0 + 1) % 3 = 1")]),r._v(" â†’ "),v("strong",[r._v("Broker1")])]),r._v(" "),v("li",[r._v("å‰¯æœ¬ 2ï¼ˆFollower2ï¼‰â†’ "),v("code",[r._v("(0 + 2) % 3 = 2")]),r._v(" â†’ "),v("strong",[r._v("Broker2")])])])])])])]),r._v(" "),v("h4",{attrs:{id:"ğŸ“Š-å®Œæ•´åˆ†é…è¡¨ç¤ºä¾‹-åˆ†åŒº-0-2"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ“Š-å®Œæ•´åˆ†é…è¡¨ç¤ºä¾‹-åˆ†åŒº-0-2"}},[r._v("#")]),r._v(" ğŸ“Š "),v("strong",[r._v("å®Œæ•´åˆ†é…è¡¨ç¤ºä¾‹ï¼ˆåˆ†åŒº 0~2ï¼‰")])]),r._v(" "),v("table",[v("thead",[v("tr",[v("th",[r._v("åˆ†åŒº")]),r._v(" "),v("th",[r._v("Leader å‰¯æœ¬ä½ç½®")]),r._v(" "),v("th",[r._v("Follower1 ä½ç½®")]),r._v(" "),v("th",[r._v("Follower2 ä½ç½®")])])]),r._v(" "),v("tbody",[v("tr",[v("td",[r._v("0")]),r._v(" "),v("td",[r._v("Broker0")]),r._v(" "),v("td",[r._v("Broker1")]),r._v(" "),v("td",[r._v("Broker2")])]),r._v(" "),v("tr",[v("td",[r._v("1")]),r._v(" "),v("td",[r._v("Broker1")]),r._v(" "),v("td",[r._v("Broker2")]),r._v(" "),v("td",[r._v("Broker0")])]),r._v(" "),v("tr",[v("td",[r._v("2")]),r._v(" "),v("td",[r._v("Broker2")]),r._v(" "),v("td",[r._v("Broker0")]),r._v(" "),v("td",[r._v("Broker1")])])])]),r._v(" "),v("blockquote",[v("p",[r._v("ğŸ’¡ "),v("strong",[r._v("å…³é”®ç‚¹")]),r._v("ï¼š")]),r._v(" "),v("ul",[v("li",[r._v("æ¯ä¸ª Broker æ—¢æ˜¯æŸäº›åˆ†åŒºçš„ Leaderï¼Œåˆæ˜¯å…¶ä»–åˆ†åŒºçš„ Followerï¼ˆè´Ÿè½½å‡è¡¡ï¼‰ã€‚")]),r._v(" "),v("li",[r._v("åŒä¸€åˆ†åŒºçš„å¤šä¸ªå‰¯æœ¬"),v("strong",[r._v("ç»ä¸å…±å­˜äºåŒä¸€ Broker")]),r._v("ï¼ˆå®¹é”™æ€§ï¼‰ã€‚")])])]),r._v(" "),v("hr"),r._v(" "),v("h3",{attrs:{id:"âš ï¸-å››ã€ç®—æ³•ä¼˜åŒ–ä¸æ³¨æ„äº‹é¡¹"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#âš ï¸-å››ã€ç®—æ³•ä¼˜åŒ–ä¸æ³¨æ„äº‹é¡¹"}},[r._v("#")]),r._v(" âš ï¸ "),v("strong",[r._v("å››ã€ç®—æ³•ä¼˜åŒ–ä¸æ³¨æ„äº‹é¡¹")])]),r._v(" "),v("ol",[v("li",[v("p",[v("strong",[r._v("æœºæ¶æ„ŸçŸ¥ç­–ç•¥ï¼ˆRack Awarenessï¼‰")])]),r._v(" "),v("ul",[v("li",[r._v("è‹¥ Broker è·¨æœºæ¶éƒ¨ç½²ï¼Œå¯é…ç½® "),v("code",[r._v("broker.rack")]),r._v(" å‚æ•°ï¼Œç¡®ä¿åŒä¸€åˆ†åŒºçš„å‰¯æœ¬åˆ†å¸ƒåœ¨ä¸åŒæœºæ¶ï¼ˆé¿å…æœºæ¶æ•…éšœå¯¼è‡´æ•°æ®ä¸¢å¤±ï¼‰ã€‚")]),r._v(" "),v("li",[v("strong",[r._v("æœªå¯ç”¨æ—¶")]),r._v("ï¼šå‰¯æœ¬ä»…æŒ‰ Broker ID è½®è¯¢åˆ†é…ã€‚")])])]),r._v(" "),v("li",[v("p",[v("strong",[r._v("åˆ†åŒºæ‰©å®¹é™åˆ¶")])]),r._v(" "),v("ul",[v("li",[r._v("åˆ†åŒºæ•°å¯å¢åŠ ï¼ˆå¦‚ä» 10 æ‰©å®¹åˆ° 15ï¼‰ï¼Œä½†"),v("strong",[r._v("ä¸å¯å‡å°‘")]),r._v("ã€‚")]),r._v(" "),v("li",[r._v("æ‰©å®¹åæ–°åˆ†åŒºæŒ‰è½®è¯¢é‡æ–°åˆ†é…ï¼Œæ—§åˆ†åŒºä½ç½®ä¸å˜ã€‚")])])]),r._v(" "),v("li",[v("p",[v("strong",[r._v("ç”Ÿäº§ç¯å¢ƒå»ºè®®")])]),r._v(" "),v("ul",[v("li",[v("strong",[r._v("å‰¯æœ¬æ•°")]),r._v("ï¼šå›ºå®šä¸º 3ï¼ˆå®¹å¿ 1 ä¸ª Broker æ•…éšœï¼‰ã€‚")]),r._v(" "),v("li",[v("strong",[r._v("ç›‘æ§å‘½ä»¤")]),r._v("ï¼šæŸ¥çœ‹åˆ†åŒºåˆ†å¸ƒè¯¦æƒ…ï¼š"),v("div",{staticClass:"language-bash line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-bash"}},[v("code",[r._v("kafka-topics.sh "),v("span",{pre:!0,attrs:{class:"token parameter variable"}},[r._v("--describe")]),r._v(" "),v("span",{pre:!0,attrs:{class:"token parameter variable"}},[r._v("--topic")]),r._v(" your-topic --bootstrap-server localhost:9092\n")])]),r._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[r._v("1")]),v("br")])])])])])]),r._v(" "),v("hr"),r._v(" "),v("h3",{attrs:{id:"ğŸ’-æ€»ç»“"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ’-æ€»ç»“"}},[r._v("#")]),r._v(" ğŸ’ "),v("strong",[r._v("æ€»ç»“")])]),r._v(" "),v("ul",[v("li",[v("strong",[r._v("å‰¯æœ¬æ•°ä¸Šé™")]),r._v("ï¼šå—é™äº Broker æ•°é‡ï¼ˆ3 Broker â†’ æœ€å¤§å‰¯æœ¬æ•°=3ï¼‰ã€‚")]),r._v(" "),v("li",[v("strong",[r._v("åˆ†åŒºåˆ†å¸ƒ")]),r._v("ï¼šRound-Robin è½®è¯¢åˆ†é… Leader åˆ°å„ Brokerã€‚")]),r._v(" "),v("li",[v("strong",[r._v("å‰¯æœ¬åˆ†é…")]),r._v("ï¼šFollower æŒ‰ "),v("code",[r._v("(Leaderä½ç½® + j) % Brokeræ•°")]),r._v(" åˆ†æ•£ï¼Œé¿å…å•ç‚¹é›†ä¸­ã€‚")]),r._v(" "),v("li",[v("strong",[r._v("è®¾è®¡ç›®æ ‡")]),r._v("ï¼šé€šè¿‡å‡åŒ€åˆ†å¸ƒ Leader å’Œéš”ç¦»å‰¯æœ¬ï¼Œå®ç°"),v("strong",[r._v("è´Ÿè½½å‡è¡¡")]),r._v("å’Œ"),v("strong",[r._v("é«˜å¯ç”¨æ€§")]),r._v("ã€‚"),v("br"),r._v("\nå®é™…éƒ¨ç½²æ—¶ï¼Œå¯é€šè¿‡æœºæ¶æ„ŸçŸ¥ç­–ç•¥è¿›ä¸€æ­¥ä¼˜åŒ–å®¹ç¾èƒ½åŠ›ã€‚")])])])}),[],!1,null,null,null);v.default=e.exports}}]);