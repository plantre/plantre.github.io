(window.webpackJsonp=window.webpackJsonp||[]).push([[175],{532:function(v,_,s){"use strict";s.r(_);var e=s(7),a=Object(e.a)({},(function(){var v=this,_=v._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[_("p",[v._v("以下是 Linux 文件权限的深度解析，结合权限模型、管理命令及安全实践整理：")]),v._v(" "),_("hr"),v._v(" "),_("p",[_("strong",[v._v("一、权限基础模型")])]),v._v(" "),_("ol",[_("li",[_("p",[v._v("用户分类"),_("br"),v._v("\nLinux 权限基于三类用户划分："),_("br"),v._v("\n• 所有者（User）：文件创建者，拥有最高控制权。")]),v._v(" "),_("p",[v._v("• 所属组（Group）：与所有者同组的用户，共享部分权限。")]),v._v(" "),_("p",[v._v("• 其他用户（Others）：系统内的其他非关联用户。")]),v._v(" "),_("p",[_("em",[v._v("示例")]),v._v("："),_("code",[v._v("-rwxr-xr--")]),v._v(" 表示所有者可读/写/执行，同组用户可读/执行，其他用户仅可读。")])]),v._v(" "),_("li",[_("p",[v._v("权限类型"),_("br"),v._v("\n每个用户类别分配三种权限："),_("br"),v._v("\n• 读（r）：文件可查看内容，目录可列出文件列表。")]),v._v(" "),_("p",[v._v("• 写（w）：文件可修改内容，目录可创建/删除文件。")]),v._v(" "),_("p",[v._v("• 执行（x）：文件可运行程序，目录可进入访问。")]),v._v(" "),_("p",[_("em",[v._v("注意")]),v._v("：目录的写权限需配合执行权限才能生效。")])])]),v._v(" "),_("hr"),v._v(" "),_("p",[_("strong",[v._v("二、权限表示方法")])]),v._v(" "),_("ol",[_("li",[_("p",[v._v("符号模式"),_("br"),v._v("\n使用 "),_("code",[v._v("r")]),v._v("、"),_("code",[v._v("w")]),v._v("、"),_("code",[v._v("x")]),v._v(" 表示权限，通过 "),_("code",[v._v("u")]),v._v("（所有者）、"),_("code",[v._v("g")]),v._v("（组）、"),_("code",[v._v("o")]),v._v("（其他用户）指定操作对象：")]),v._v(" "),_("div",{staticClass:"language-bash line-numbers-mode"},[_("pre",{pre:!0,attrs:{class:"language-bash"}},[_("code",[_("span",{pre:!0,attrs:{class:"token function"}},[v._v("chmod")]),v._v(" u+x file.txt  "),_("span",{pre:!0,attrs:{class:"token comment"}},[v._v("# 为所有者添加执行权限")]),v._v("\n"),_("span",{pre:!0,attrs:{class:"token function"}},[v._v("chmod")]),v._v(" go-w file.txt "),_("span",{pre:!0,attrs:{class:"token comment"}},[v._v("# 移除组和其他用户的写权限")]),v._v("\n")])]),v._v(" "),_("div",{staticClass:"line-numbers-wrapper"},[_("span",{staticClass:"line-number"},[v._v("1")]),_("br"),_("span",{staticClass:"line-number"},[v._v("2")]),_("br")])])]),v._v(" "),_("li",[_("p",[v._v("数字模式"),_("br"),v._v("\n将权限转换为八进制数字（r=4，w=2，x=1），组合后三位数分别对应所有者、组、其他用户："),_("br"),v._v("\n• "),_("code",[v._v("755")]),v._v(" → "),_("code",[v._v("rwxr-xr-x")])]),v._v(" "),_("p",[v._v("• "),_("code",[v._v("644")]),v._v(" → "),_("code",[v._v("rw-r--r--")])]),v._v(" "),_("p",[_("em",[v._v("示例")]),v._v("："),_("code",[v._v("chmod 755 script.sh")]),v._v(" 赋予所有者完全权限，其他用户仅可读/执行。")])])]),v._v(" "),_("hr"),v._v(" "),_("p",[_("strong",[v._v("三、特殊权限位")])]),v._v(" "),_("ol",[_("li",[_("p",[v._v("SetUID（suid）"),_("br"),v._v("\n• 作用：执行文件时继承所有者权限（如 "),_("code",[v._v("/usr/bin/passwd")]),v._v("）。")]),v._v(" "),_("p",[v._v("• 设置："),_("code",[v._v("chmod u+s file")]),v._v(" 或数字模式前缀 "),_("code",[v._v("4")]),v._v("（如 "),_("code",[v._v("4755")]),v._v("）。")])]),v._v(" "),_("li",[_("p",[v._v("SetGID（sgid）"),_("br"),v._v("\n• 作用：目录下新建文件继承父目录的组权限（常用于共享项目）。")]),v._v(" "),_("p",[v._v("• 设置："),_("code",[v._v("chmod g+s dir")]),v._v(" 或数字模式前缀 "),_("code",[v._v("2")]),v._v("（如 "),_("code",[v._v("2775")]),v._v("）。")])]),v._v(" "),_("li",[_("p",[v._v("Sticky Bit（粘滞位）"),_("br"),v._v("\n• 作用：目录内文件仅所有者可删除（如 "),_("code",[v._v("/tmp")]),v._v(" 目录）。")]),v._v(" "),_("p",[v._v("• 设置："),_("code",[v._v("chmod o+t dir")]),v._v(" 或数字模式前缀 "),_("code",[v._v("1")]),v._v("（如 "),_("code",[v._v("1777")]),v._v("）。")])])]),v._v(" "),_("hr"),v._v(" "),_("p",[_("strong",[v._v("四、权限管理命令")])]),v._v(" "),_("ol",[_("li",[_("p",[_("code",[v._v("chmod")]),_("br"),v._v("\n修改文件或目录权限："),_("br"),v._v("\n• "),_("code",[v._v("-R")]),v._v("：递归修改目录及子内容权限。")]),v._v(" "),_("div",{staticClass:"language-bash line-numbers-mode"},[_("pre",{pre:!0,attrs:{class:"language-bash"}},[_("code",[_("span",{pre:!0,attrs:{class:"token function"}},[v._v("chmod")]),v._v(" "),_("span",{pre:!0,attrs:{class:"token parameter variable"}},[v._v("-R")]),v._v(" "),_("span",{pre:!0,attrs:{class:"token number"}},[v._v("755")]),v._v(" /opt/app  "),_("span",{pre:!0,attrs:{class:"token comment"}},[v._v("# 递归设置目录权限")]),v._v("\n")])]),v._v(" "),_("div",{staticClass:"line-numbers-wrapper"},[_("span",{staticClass:"line-number"},[v._v("1")]),_("br")])])]),v._v(" "),_("li",[_("p",[_("code",[v._v("chown")]),_("br"),v._v("\n修改文件所有者及所属组：")]),v._v(" "),_("div",{staticClass:"language-bash line-numbers-mode"},[_("pre",{pre:!0,attrs:{class:"language-bash"}},[_("code",[_("span",{pre:!0,attrs:{class:"token function"}},[v._v("chown")]),v._v(" user:group "),_("span",{pre:!0,attrs:{class:"token function"}},[v._v("file")]),v._v("  "),_("span",{pre:!0,attrs:{class:"token comment"}},[v._v("# 同时修改所有者和组")]),v._v("\n"),_("span",{pre:!0,attrs:{class:"token function"}},[v._v("chown")]),v._v(" "),_("span",{pre:!0,attrs:{class:"token parameter variable"}},[v._v("-R")]),v._v(" root:admin /data  "),_("span",{pre:!0,attrs:{class:"token comment"}},[v._v("# 递归修改目录归属")]),v._v("\n")])]),v._v(" "),_("div",{staticClass:"line-numbers-wrapper"},[_("span",{staticClass:"line-number"},[v._v("1")]),_("br"),_("span",{staticClass:"line-number"},[v._v("2")]),_("br")])])]),v._v(" "),_("li",[_("p",[_("code",[v._v("chgrp")]),_("br"),v._v("\n仅修改文件所属组：")]),v._v(" "),_("div",{staticClass:"language-bash line-numbers-mode"},[_("pre",{pre:!0,attrs:{class:"language-bash"}},[_("code",[_("span",{pre:!0,attrs:{class:"token function"}},[v._v("chgrp")]),v._v(" developers project/  "),_("span",{pre:!0,attrs:{class:"token comment"}},[v._v("# 将目录组设为developers")]),v._v("\n")])]),v._v(" "),_("div",{staticClass:"line-numbers-wrapper"},[_("span",{staticClass:"line-number"},[v._v("1")]),_("br")])])]),v._v(" "),_("li",[_("p",[_("code",[v._v("umask")]),_("br"),v._v("\n控制新建文件/目录的默认权限："),_("br"),v._v("\n• 文件默认权限："),_("code",[v._v("666 - umask")]),v._v("（如 umask=022 → 文件权限644）。")]),v._v(" "),_("p",[v._v("• 目录默认权限："),_("code",[v._v("777 - umask")]),v._v("（如 umask=022 → 目录权限755）。")]),v._v(" "),_("p",[_("em",[v._v("配置")]),v._v("：通过 "),_("code",[v._v("umask 027")]),v._v(" 临时修改，或写入 "),_("code",[v._v("/etc/profile")]),v._v(" 永久生效。")])])]),v._v(" "),_("hr"),v._v(" "),_("p",[_("strong",[v._v("五、安全实践建议")])]),v._v(" "),_("ol",[_("li",[_("p",[v._v("最小权限原则"),_("br"),v._v("\n• 避免滥用 "),_("code",[v._v("777")]),v._v(" 权限，优先赋予精确权限（如 "),_("code",[v._v("755")]),v._v(" 或 "),_("code",[v._v("750")]),v._v("）。")]),v._v(" "),_("p",[v._v("• 敏感文件（如 SSH 密钥）应设置为 "),_("code",[v._v("600")]),v._v("，仅所有者可读写。")])]),v._v(" "),_("li",[_("p",[v._v("特殊权限谨慎使用"),_("br"),v._v("\n• SetUID 程序需严格审核，防止提权漏洞（如恶意脚本拥有 root 权限）。")]),v._v(" "),_("p",[v._v("• Sticky Bit 用于共享目录（如 "),_("code",[v._v("/var/tmp")]),v._v("）防止用户误删他人文件。")])]),v._v(" "),_("li",[_("p",[v._v("定期审计权限"),_("br"),v._v("\n• 使用 "),_("code",[v._v("find")]),v._v(" 命令扫描异常权限文件：")]),v._v(" "),_("div",{staticClass:"language-bash line-numbers-mode"},[_("pre",{pre:!0,attrs:{class:"language-bash"}},[_("code",[_("span",{pre:!0,attrs:{class:"token function"}},[v._v("find")]),v._v(" / "),_("span",{pre:!0,attrs:{class:"token parameter variable"}},[v._v("-perm")]),v._v(" "),_("span",{pre:!0,attrs:{class:"token parameter variable"}},[v._v("-4000")]),v._v("  "),_("span",{pre:!0,attrs:{class:"token comment"}},[v._v("# 查找所有SetUID文件")]),v._v("\n"),_("span",{pre:!0,attrs:{class:"token function"}},[v._v("find")]),v._v(" / "),_("span",{pre:!0,attrs:{class:"token parameter variable"}},[v._v("-perm")]),v._v(" -o+w   "),_("span",{pre:!0,attrs:{class:"token comment"}},[v._v("# 查找全局可写文件")]),v._v("\n")])]),v._v(" "),_("div",{staticClass:"line-numbers-wrapper"},[_("span",{staticClass:"line-number"},[v._v("1")]),_("br"),_("span",{staticClass:"line-number"},[v._v("2")]),_("br")])])])]),v._v(" "),_("hr"),v._v(" "),_("p",[_("strong",[v._v("六、权限查看与调试")])]),v._v(" "),_("ol",[_("li",[_("p",[_("code",[v._v("ls -l")]),v._v(" 输出解析"),_("br"),v._v("\n• 示例："),_("code",[v._v("-rwxr-xr-- 1 root dev 4096 Apr 24 10:00 script.sh")])]),v._v(" "),_("p",[v._v("◦ 文件类型："),_("code",[v._v("-")]),v._v(" 普通文件，"),_("code",[v._v("d")]),v._v(" 目录，"),_("code",[v._v("l")]),v._v(" 符号链接。")]),v._v(" "),_("p",[v._v("◦ 权限位：第2-4位所有者，5-7位组，8-10位其他用户。")])]),v._v(" "),_("li",[_("p",[v._v("调试权限问题"),_("br"),v._v("\n• 若无法访问目录，检查是否缺少 "),_("code",[v._v("x")]),v._v(" 权限。")]),v._v(" "),_("p",[v._v("• 使用 "),_("code",[v._v("getfacl")]),v._v(" 查看扩展 ACL 权限（如 NFS 共享场景）。")])])]),v._v(" "),_("hr"),v._v(" "),_("p",[v._v("通过合理配置权限，可有效提升系统安全性。建议结合具体场景选择权限策略，并定期审查关键目录（如 "),_("code",[v._v("/etc")]),v._v("、"),_("code",[v._v("/var/log")]),v._v("）的权限设置。")])])}),[],!1,null,null,null);_.default=a.exports}}]);