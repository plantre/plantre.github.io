(window.webpackJsonp=window.webpackJsonp||[]).push([[100],{457:function(v,_,r){"use strict";r.r(_);var t=r(7),o=Object(t.a)({},(function(){var v=this,_=v._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[_("p",[v._v("åœ¨ Kafka çš„åˆ†åŒºå‰¯æœ¬æœºåˆ¶ä¸­ï¼Œ"),_("strong",[v._v("å‰¯æœ¬æ•°ï¼ˆReplication Factorï¼‰")]),v._v(" ç­‰äº "),_("strong",[v._v("Leader å‰¯æœ¬æ•°é‡ + Follower å‰¯æœ¬æ•°é‡")]),v._v("ã€‚å…·ä½“å…³ç³»å¦‚ä¸‹ï¼š")]),v._v(" "),_("hr"),v._v(" "),_("h3",{attrs:{id:"ğŸ“Œ-ä¸€ã€æ ¸å¿ƒå…¬å¼"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ“Œ-ä¸€ã€æ ¸å¿ƒå…¬å¼"}},[v._v("#")]),v._v(" ğŸ“Œ "),_("strong",[v._v("ä¸€ã€æ ¸å¿ƒå…¬å¼")])]),v._v(" "),_("div",{staticClass:"language- line-numbers-mode"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[v._v("å‰¯æœ¬æ•°ï¼ˆReplication Factorï¼‰ = 1ï¼ˆLeaderï¼‰ + Nï¼ˆFollowerï¼‰\n")])]),v._v(" "),_("div",{staticClass:"line-numbers-wrapper"},[_("span",{staticClass:"line-number"},[v._v("1")]),_("br")])]),_("ul",[_("li",[_("strong",[v._v("Leader å‰¯æœ¬")]),v._v("ï¼šæ¯ä¸ªåˆ†åŒºæœ‰ä¸”ä»…æœ‰ "),_("strong",[v._v("1 ä¸ª")]),v._v(" Leaderï¼Œè´Ÿè´£å¤„ç†è¯¥åˆ†åŒºçš„æ‰€æœ‰è¯»å†™è¯·æ±‚ã€‚")]),v._v(" "),_("li",[_("strong",[v._v("Follower å‰¯æœ¬")]),v._v("ï¼šæ¯ä¸ªåˆ†åŒºæœ‰ "),_("strong",[v._v("N ä¸ª")]),v._v(" Followerï¼ˆN â‰¥ 0ï¼‰ï¼Œä»…è´Ÿè´£ä» Leader åŒæ­¥æ•°æ®ï¼Œä¸ç›´æ¥æœåŠ¡å®¢æˆ·ç«¯ã€‚")]),v._v(" "),_("li",[_("strong",[v._v("å‰¯æœ¬æ€»æ•°")]),v._v("ï¼šå³ "),_("code",[v._v("1 + N")]),v._v("ï¼Œä¾‹å¦‚å‰¯æœ¬æ•°=3 æ—¶ï¼ŒåŒ…å« "),_("strong",[v._v("1 Leader + 2 Follower")]),v._v("ã€‚")])]),v._v(" "),_("hr"),v._v(" "),_("h3",{attrs:{id:"ğŸ“Š-äºŒã€è§’è‰²åˆ†å·¥ä¸åä½œ"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ“Š-äºŒã€è§’è‰²åˆ†å·¥ä¸åä½œ"}},[v._v("#")]),v._v(" ğŸ“Š "),_("strong",[v._v("äºŒã€è§’è‰²åˆ†å·¥ä¸åä½œ")])]),v._v(" "),_("table",[_("thead",[_("tr",[_("th",[_("strong",[v._v("å‰¯æœ¬ç±»å‹")])]),v._v(" "),_("th",[_("strong",[v._v("èŒè´£")])]),v._v(" "),_("th",[_("strong",[v._v("æ˜¯å¦æœåŠ¡å®¢æˆ·ç«¯")])]),v._v(" "),_("th",[_("strong",[v._v("æ•°é‡é™åˆ¶")])])])]),v._v(" "),_("tbody",[_("tr",[_("td",[_("strong",[v._v("Leader")])]),v._v(" "),_("td",[v._v("å¤„ç†ç”Ÿäº§è€…å†™å…¥å’Œæ¶ˆè´¹è€…è¯»å–è¯·æ±‚ï¼›ç®¡ç†æ•°æ®åŒæ­¥åˆ° Follower")]),v._v(" "),_("td",[v._v("âœ… æ˜¯")]),v._v(" "),_("td",[_("strong",[v._v("å›ºå®š 1 ä¸ª")])])]),v._v(" "),_("tr",[_("td",[_("strong",[v._v("Follower")])]),v._v(" "),_("td",[v._v("ä» Leader å¼‚æ­¥/åŒæ­¥æ‹‰å–æ•°æ®ï¼›å‚ä¸ Leader é€‰ä¸¾ï¼ˆä»… ISR ä¸­çš„å‰¯æœ¬æœ‰èµ„æ ¼ï¼‰")]),v._v(" "),_("td",[v._v("âŒ å¦")]),v._v(" "),_("td",[v._v("å¯é…ç½®ï¼ˆå‰¯æœ¬æ•°-1ï¼‰")])])])]),v._v(" "),_("blockquote",[_("p",[v._v("âœ… "),_("strong",[v._v("å…³é”®ç‚¹")]),v._v("ï¼š")]),v._v(" "),_("ul",[_("li",[v._v("Follower "),_("strong",[v._v("ä¸ç›´æ¥æä¾›è¯»å†™æœåŠ¡")]),v._v("ï¼Œä»…ä½œä¸ºæ•°æ®å†—ä½™å¤‡ä»½å’Œæ•…éšœæ¢å¤çš„å€™é€‰ã€‚")]),v._v(" "),_("li",[v._v("ç”Ÿäº§è€…å¿…é¡»å°†æ¶ˆæ¯å‘é€åˆ° Leaderï¼Œæ¶ˆè´¹è€…ä¹Ÿå¿…é¡»ä» Leader æ¶ˆè´¹æ•°æ®ã€‚")])])]),v._v(" "),_("hr"),v._v(" "),_("h3",{attrs:{id:"âš™ï¸-ä¸‰ã€å‰¯æœ¬æ•°é…ç½®ç¤ºä¾‹"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#âš™ï¸-ä¸‰ã€å‰¯æœ¬æ•°é…ç½®ç¤ºä¾‹"}},[v._v("#")]),v._v(" âš™ï¸ "),_("strong",[v._v("ä¸‰ã€å‰¯æœ¬æ•°é…ç½®ç¤ºä¾‹")])]),v._v(" "),_("p",[v._v("å‡è®¾æŸ Topic çš„åˆ†åŒºé…ç½®ä¸º "),_("strong",[v._v("å‰¯æœ¬æ•°=3")]),v._v("ï¼Œåˆ†å¸ƒåˆ° 3 ä¸ª Broker é›†ç¾¤ï¼š")]),v._v(" "),_("table",[_("thead",[_("tr",[_("th",[_("strong",[v._v("åˆ†åŒº")])]),v._v(" "),_("th",[_("strong",[v._v("Leader æ‰€åœ¨ Broker")])]),v._v(" "),_("th",[_("strong",[v._v("Follower1 æ‰€åœ¨ Broker")])]),v._v(" "),_("th",[_("strong",[v._v("Follower2 æ‰€åœ¨ Broker")])])])]),v._v(" "),_("tbody",[_("tr",[_("td",[v._v("Partition 0")]),v._v(" "),_("td",[v._v("Broker 0")]),v._v(" "),_("td",[v._v("Broker 1")]),v._v(" "),_("td",[v._v("Broker 2")])]),v._v(" "),_("tr",[_("td",[v._v("Partition 1")]),v._v(" "),_("td",[v._v("Broker 1")]),v._v(" "),_("td",[v._v("Broker 2")]),v._v(" "),_("td",[v._v("Broker 0")])])])]),v._v(" "),_("ul",[_("li",[_("strong",[v._v("æ¯ä¸ªåˆ†åŒºçš„å‰¯æœ¬æ€»æ•°")]),v._v("ï¼š"),_("code",[v._v("1 Leader + 2 Follower = 3")]),v._v("ã€‚")]),v._v(" "),_("li",[_("strong",[v._v("å®¹é”™èƒ½åŠ›")]),v._v("ï¼šå®¹å¿æœ€å¤š "),_("strong",[v._v("2 ä¸ª Broker å®•æœº")]),v._v("ï¼ˆN-1 åŸåˆ™ï¼ŒN=å‰¯æœ¬æ•°ï¼‰ã€‚")])]),v._v(" "),_("hr"),v._v(" "),_("h3",{attrs:{id:"âš ï¸-å››ã€æ³¨æ„äº‹é¡¹"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#âš ï¸-å››ã€æ³¨æ„äº‹é¡¹"}},[v._v("#")]),v._v(" âš ï¸ "),_("strong",[v._v("å››ã€æ³¨æ„äº‹é¡¹")])]),v._v(" "),_("ol",[_("li",[_("strong",[v._v("å‰¯æœ¬æ•°ä¸Šé™")]),v._v("ï¼š\n"),_("ul",[_("li",[_("strong",[v._v("å‰¯æœ¬æ•° â‰¤ Broker æ•°é‡")]),v._v("ï¼ˆä¾‹å¦‚ 3 Broker æ—¶ï¼Œå‰¯æœ¬æ•°æœ€å¤§ä¸º 3ï¼‰ã€‚")]),v._v(" "),_("li",[v._v("è‹¥è¶…è¿‡åˆ™ Topic åˆ›å»ºå¤±è´¥ï¼ˆå¦‚ 3 Broker è®¾ç½®å‰¯æœ¬æ•°=4 ä¼šæŠ¥é”™ï¼‰ã€‚")])])]),v._v(" "),_("li",[_("strong",[v._v("Follower çš„å¯ç”¨æ€§")]),v._v("ï¼š\n"),_("ul",[_("li",[v._v("åªæœ‰ "),_("strong",[v._v("ISRï¼ˆIn-Sync Replicasï¼‰")]),v._v(" ä¸­çš„ Follower æ‰å…·å¤‡é€‰ä¸¾èµ„æ ¼ã€‚")]),v._v(" "),_("li",[v._v("è‹¥ Follower åŒæ­¥æ»åï¼ˆè¶…è¿‡ "),_("code",[v._v("replica.lag.time.max.ms")]),v._v("ï¼‰ï¼Œä¼šè¢«ç§»å‡º ISR é›†åˆã€‚")])])]),v._v(" "),_("li",[_("strong",[v._v("ç”Ÿäº§å»ºè®®")]),v._v("ï¼š\n"),_("ul",[_("li",[_("strong",[v._v("å‰¯æœ¬æ•° â‰¥ 3")]),v._v("ï¼šç”Ÿäº§ç¯å¢ƒæ¨èé…ç½®ï¼Œå…¼é¡¾å®¹é”™ä¸æˆæœ¬ã€‚")]),v._v(" "),_("li",[_("strong",[v._v("æœ€å°åŒæ­¥å‰¯æœ¬")]),v._v("ï¼šè®¾ç½® "),_("code",[v._v("min.insync.replicas=2")]),v._v("ï¼ˆé…åˆ "),_("code",[v._v("acks=all")]),v._v("ï¼‰ï¼Œç¡®ä¿æ¶ˆæ¯å†™å…¥è‡³å°‘ 2 ä¸ªå‰¯æœ¬ï¼ˆå« Leaderï¼‰æ‰è¿”å›æˆåŠŸã€‚")])])])]),v._v(" "),_("hr"),v._v(" "),_("h3",{attrs:{id:"ğŸ’-æ€»ç»“"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ’-æ€»ç»“"}},[v._v("#")]),v._v(" ğŸ’ "),_("strong",[v._v("æ€»ç»“")])]),v._v(" "),_("blockquote",[_("p",[_("strong",[v._v("å‰¯æœ¬æ•° = 1ï¼ˆLeaderï¼‰ + Nï¼ˆFollowerï¼‰")])]),v._v(" "),_("ul",[_("li",[_("strong",[v._v("Leader")]),v._v("ï¼šå”¯ä¸€è¯»å†™å…¥å£ï¼Œæ‰¿æ‹…æœåŠ¡å‹åŠ›ï¼›")]),v._v(" "),_("li",[_("strong",[v._v("Follower")]),v._v("ï¼šçº¯å¤‡ä»½è§’è‰²ï¼Œé€šè¿‡ ISR æœºåˆ¶ä¿éšœæ•…éšœåˆ‡æ¢çš„å¯é æ€§ã€‚")])]),v._v(" "),_("p",[v._v("åˆç†é…ç½®å‰¯æœ¬æ•°ï¼ˆå¦‚ 3 å‰¯æœ¬ï¼‰æ˜¯ Kafka å®ç°"),_("strong",[v._v("é«˜å¯ç”¨ã€æ•°æ®æŒä¹…åŒ–")]),v._v("çš„æ ¸å¿ƒè®¾è®¡ã€‚")])])])}),[],!1,null,null,null);_.default=o.exports}}]);