(window.webpackJsonp=window.webpackJsonp||[]).push([[183],{541:function(s,v,a){"use strict";a.r(v);var t=a(7),_=Object(t.a)({},(function(){var s=this,v=s._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[v("p",[s._v("以下是 Linux 系统中查看每个进程内存占用情况的常用方法，涵盖命令行工具和系统级工具，按使用频率和实用性排序：")]),s._v(" "),v("hr"),s._v(" "),v("p",[s._v("一、使用 "),v("code",[s._v("top")]),s._v(" 命令（实时动态监控）\n核心作用：实时查看系统资源使用情况，按需排序进程。"),v("br"),s._v("\n操作步骤：")]),s._v(" "),v("ol",[v("li",[v("p",[s._v("运行命令：")]),s._v(" "),v("div",{staticClass:"language-bash line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-bash"}},[v("code",[v("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v("\n")])]),s._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[s._v("1")]),v("br")])])]),s._v(" "),v("li",[v("p",[s._v("按内存排序：在交互界面中按下 "),v("code",[s._v("Shift + M")]),s._v("，进程将按 %MEM（内存占比） 降序排列。")])]),s._v(" "),v("li",[v("p",[s._v("关键字段解析：\n• %MEM：进程占用物理内存的百分比。")]),s._v(" "),v("p",[s._v("• RES：实际使用的物理内存量（单位 KB 或 MB）。")]),s._v(" "),v("p",[s._v("• VIRT：进程使用的虚拟内存总量（包括共享库和未使用的内存）。")])])]),s._v(" "),v("p",[s._v("适用场景：快速定位高内存消耗的进程，适合动态监控。")]),s._v(" "),v("hr"),s._v(" "),v("p",[s._v("二、使用 "),v("code",[s._v("ps")]),s._v(" 命令（静态快照）\n核心作用：生成当前进程的快照，按内存占用排序。"),v("br"),s._v("\n操作命令：")]),s._v(" "),v("div",{staticClass:"language-bash line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-bash"}},[v("code",[v("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" aux "),v("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--sort")]),v("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("-%mem "),v("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),v("span",{pre:!0,attrs:{class:"token function"}},[s._v("head")]),s._v(" "),v("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" "),v("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("  "),v("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 按内存占比降序，显示前10条")]),s._v("\n")])]),s._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[s._v("1")]),v("br")])]),v("p",[s._v("• 字段解析：")]),s._v(" "),v("p",[s._v("• RSS（Resident Set Size）：进程占用的物理内存大小（单位 KB）。")]),s._v(" "),v("p",[s._v("• VSZ（Virtual Memory Size）：进程使用的虚拟内存总量。")]),s._v(" "),v("p",[s._v("• 扩展用法：")]),s._v(" "),v("p",[s._v("• 查看单个进程内存（如 PID=1234）：")]),s._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",[v("code",[s._v("```bash\nps -p 1234 -o pid,comm,%mem,rss,vsz\n```\n")])])]),v("p",[s._v("适用场景：生成静态报告，适合脚本化分析或导出数据。")]),s._v(" "),v("hr"),s._v(" "),v("p",[s._v("三、使用 "),v("code",[s._v("htop")]),s._v(" 工具（增强交互界面）\n核心作用：提供彩色界面和更友好的交互操作。"),v("br"),s._v("\n操作步骤：")]),s._v(" "),v("ol",[v("li",[s._v("安装（如未预装）："),v("div",{staticClass:"language-bash line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-bash"}},[v("code",[v("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),v("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),v("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),v("span",{pre:!0,attrs:{class:"token function"}},[s._v("htop")]),s._v("  "),v("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Debian/Ubuntu")]),s._v("\n"),v("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),v("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),v("span",{pre:!0,attrs:{class:"token function"}},[s._v("htop")]),s._v("  "),v("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# CentOS/RHEL")]),s._v("\n")])]),s._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[s._v("1")]),v("br"),v("span",{staticClass:"line-number"},[s._v("2")]),v("br")])])]),s._v(" "),v("li",[s._v("运行后默认按 CPU 排序，点击 "),v("code",[s._v("F6")]),s._v(" → 选择 "),v("code",[s._v("MEM%")]),s._v(" → 按内存排序。")])]),s._v(" "),v("p",[s._v("优势：支持鼠标操作、树状视图显示父子进程关系，适合直观分析。")]),s._v(" "),v("hr"),s._v(" "),v("p",[s._v("四、使用 "),v("code",[s._v("pmap")]),s._v(" 命令（详细内存映射）\n核心作用：查看进程的详细内存映射信息。"),v("br"),s._v("\n操作命令：")]),s._v(" "),v("div",{staticClass:"language-bash line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-bash"}},[v("code",[s._v("pmap "),v("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-x")]),s._v(" "),v("span",{pre:!0,attrs:{class:"token number"}},[s._v("1234")]),s._v("  "),v("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看 PID=1234 的进程内存分布")]),s._v("\n")])]),s._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[s._v("1")]),v("br")])]),v("p",[s._v("• 输出解析：")]),s._v(" "),v("p",[s._v("• Kbytes：内存区域总大小。")]),s._v(" "),v("p",[s._v("• RSS：实际使用的物理内存。")]),s._v(" "),v("p",[s._v("• Mapping：内存用途（如共享库、堆栈）。")]),s._v(" "),v("p",[s._v("适用场景：深度分析进程内存分布，排查内存泄漏或异常占用。")]),s._v(" "),v("hr"),s._v(" "),v("p",[s._v("五、通过 "),v("code",[s._v("/proc")]),s._v(" 文件系统（底层信息）\n核心作用：直接读取内核提供的进程信息文件。"),v("br"),s._v("\n操作命令：")]),s._v(" "),v("div",{staticClass:"language-bash line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-bash"}},[v("code",[v("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /proc/1234/status "),v("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),v("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),v("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-E")]),s._v(" "),v("span",{pre:!0,attrs:{class:"token string"}},[s._v("'VmRSS|VmSize'")]),s._v("  "),v("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看 PID=1234 的物理和虚拟内存")]),s._v("\n")])]),s._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[s._v("1")]),v("br")])]),v("p",[s._v("• 字段说明：")]),s._v(" "),v("p",[s._v("• VmRSS：实际使用的物理内存（单位 KB）。")]),s._v(" "),v("p",[s._v("• VmSize：虚拟内存总量。")]),s._v(" "),v("p",[s._v("适用场景：编程或脚本中获取精确内存数据，无需依赖外部工具。")]),s._v(" "),v("hr"),s._v(" "),v("p",[s._v("六、其他工具补充")]),s._v(" "),v("ol",[v("li",[v("code",[s._v("smem")]),s._v("：统计共享内存的占用（需安装）："),v("div",{staticClass:"language-bash line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-bash"}},[v("code",[s._v("smem "),v("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),v("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-k")]),s._v("  "),v("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 以百分比和 KB 单位显示进程内存")]),s._v("\n")])]),s._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[s._v("1")]),v("br")])])]),s._v(" "),v("li",[v("code",[s._v("vmstat")]),s._v("：查看系统整体内存状态（侧重全局，非单进程）。")])]),s._v(" "),v("hr"),s._v(" "),v("p",[s._v("总结对比")]),s._v(" "),v("table",[v("thead",[v("tr",[v("th",[s._v("工具")]),s._v(" "),v("th",[s._v("优势")]),s._v(" "),v("th",[s._v("适用场景")]),s._v(" "),v("th",[s._v("引用来源")])])]),s._v(" "),v("tbody",[v("tr",[v("td",[v("code",[s._v("top")])]),s._v(" "),v("td",[s._v("实时动态排序，交互操作")]),s._v(" "),v("td",[s._v("快速定位高内存进程")]),s._v(" "),v("td")]),s._v(" "),v("tr",[v("td",[v("code",[s._v("ps")])]),s._v(" "),v("td",[s._v("静态快照，脚本友好")]),s._v(" "),v("td",[s._v("生成报告或批量处理")]),s._v(" "),v("td")]),s._v(" "),v("tr",[v("td",[v("code",[s._v("htop")])]),s._v(" "),v("td",[s._v("图形化界面，父子进程可视化")]),s._v(" "),v("td",[s._v("交互式分析")]),s._v(" "),v("td")]),s._v(" "),v("tr",[v("td",[v("code",[s._v("pmap")])]),s._v(" "),v("td",[s._v("详细内存映射，支持调试")]),s._v(" "),v("td",[s._v("排查内存泄漏或异常分配")]),s._v(" "),v("td")]),s._v(" "),v("tr",[v("td",[v("code",[s._v("/proc")]),s._v(" 文件")]),s._v(" "),v("td",[s._v("底层数据，编程友好")]),s._v(" "),v("td",[s._v("脚本或开发中获取精确信息")]),s._v(" "),v("td")])])]),s._v(" "),v("p",[s._v("推荐流程：")]),s._v(" "),v("ol",[v("li",[s._v("先用 "),v("code",[s._v("top")]),s._v(" 或 "),v("code",[s._v("htop")]),s._v(" 快速定位问题进程。")]),s._v(" "),v("li",[s._v("通过 "),v("code",[s._v("ps")]),s._v(" 生成详细报告。")]),s._v(" "),v("li",[s._v("需要深度分析时使用 "),v("code",[s._v("pmap")]),s._v(" 或 "),v("code",[s._v("/proc")]),s._v("。")])])])}),[],!1,null,null,null);v.default=_.exports}}]);