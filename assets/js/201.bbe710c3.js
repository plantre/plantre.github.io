(window.webpackJsonp=window.webpackJsonp||[]).push([[201],{558:function(a,s,t){"use strict";t.r(s);var r=t(7),e=Object(r.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("p",[a._v("æ˜¯çš„ï¼Œ"),s("strong",[a._v("åœ¨å®¢æˆ·ç«¯ A ä¸Šä¿®æ”¹è·¯ç”±è¡¨ï¼Œç¡®å®å¯ä»¥å®ç°è®©å®ƒå‘å¾€æœåŠ¡å™¨ B çš„è¯·æ±‚å®é™…æµå‘æœåŠ¡å™¨ C")]),a._v("ï¼Œ"),s("strong",[a._v("å‰ææ˜¯ä½ å¯¹ A æœ‰æ§åˆ¶æƒï¼ˆä¾‹å¦‚ä½ èƒ½ SSH ç™»å½• A æˆ–ä¿®æ”¹å…¶ç³»ç»Ÿé…ç½®ï¼‰")]),a._v("ã€‚")]),a._v(" "),s("hr"),a._v(" "),s("h2",{attrs:{id:"âœ…-åŸç†è§£é‡Š"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#âœ…-åŸç†è§£é‡Š"}},[a._v("#")]),a._v(" âœ… åŸç†è§£é‡Š")]),a._v(" "),s("p",[a._v("ä½ å¯ä»¥åœ¨ A ä¸»æœºä¸Šé…ç½®é™æ€è·¯ç”±æˆ– NAT è§„åˆ™ï¼Œè®©ï¼š")]),a._v(" "),s("ul",[s("li",[a._v("ç›®æ ‡ä¸º "),s("strong",[a._v("B çš„ IP")]),a._v(" çš„æ•°æ®åŒ…")]),a._v(" "),s("li",[a._v("è¢« "),s("strong",[a._v("é‡å®šå‘æˆ–ä¼ªè£…")]),a._v(" å‘å¾€æœåŠ¡å™¨ C çš„ IP")])]),a._v(" "),s("p",[a._v("è¿™å«åš "),s("strong",[a._v("ç­–ç•¥è·¯ç”±æˆ– NAT æ˜ å°„")]),a._v("ã€‚")]),a._v(" "),s("hr"),a._v(" "),s("h2",{attrs:{id:"âœ…-å®ç°æ–¹æ³•-ä»¥-linux-ä¸ºä¾‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#âœ…-å®ç°æ–¹æ³•-ä»¥-linux-ä¸ºä¾‹"}},[a._v("#")]),a._v(" âœ… å®ç°æ–¹æ³•ï¼ˆä»¥ Linux ä¸ºä¾‹ï¼‰")]),a._v(" "),s("p",[a._v("å‡è®¾ï¼š")]),a._v(" "),s("ul",[s("li",[a._v("B çš„å…¬ç½‘ IP æ˜¯ï¼š"),s("code",[a._v("1.2.3.4")])]),a._v(" "),s("li",[a._v("C çš„å…¬ç½‘ IP æ˜¯ï¼š"),s("code",[a._v("5.6.7.8")])]),a._v(" "),s("li",[a._v("A æ˜¯ä¸€å° Linux æœåŠ¡å™¨ï¼Œä½ æœ‰ root æƒé™")])]),a._v(" "),s("hr"),a._v(" "),s("h3",{attrs:{id:"æ–¹æ³•-1-iptables-æœ¬åœ°-snat-dnat-è½¬å‘åˆ°-c"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ–¹æ³•-1-iptables-æœ¬åœ°-snat-dnat-è½¬å‘åˆ°-c"}},[a._v("#")]),a._v(" æ–¹æ³• 1ï¼šiptables æœ¬åœ° SNAT + DNAT è½¬å‘åˆ° C")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# å¯ç”¨ IP è½¬å‘")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" /proc/sys/net/ipv4/ip_forward\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# å°†å‘å¾€ B çš„è¯·æ±‚è½¬å‘ç»™ C")]),a._v("\niptables "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-t")]),a._v(" nat "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-A")]),a._v(" OUTPUT "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1.2")]),a._v(".3.4 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" DNAT --to-destination "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("5.6")]),a._v(".7.8\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br")])]),s("blockquote",[s("p",[s("strong",[a._v("æ•ˆæœ")]),a._v("ï¼šæœ¬åœ°å‘å¾€ "),s("code",[a._v("1.2.3.4")]),a._v("ï¼ˆBï¼‰çš„è¯·æ±‚å®é™…ä¸Šå˜æˆäº†å‘å¾€ "),s("code",[a._v("5.6.7.8")]),a._v("ï¼ˆCï¼‰")])]),a._v(" "),s("h4",{attrs:{id:"â—æ³¨æ„"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#â—æ³¨æ„"}},[a._v("#")]),a._v(" â—æ³¨æ„ï¼š")]),a._v(" "),s("ul",[s("li",[a._v("è¿™ç§æ–¹å¼åªå¯¹æœ¬åœ°ç¨‹åºå‘å‡ºçš„è¯·æ±‚æœ‰æ•ˆï¼ˆA è‡ªå·±å‘å‡ºçš„ï¼‰")]),a._v(" "),s("li",[a._v("å¦‚æœä½ è¦è®© A æˆä¸ºä¸€ä¸ªâ€œè·¯ç”±å™¨â€å¸®åˆ«çš„æœºå™¨è½¬å‘ï¼Œåˆ™éœ€è¦é¢å¤–è®¾ç½®è½¬å‘è§„åˆ™ï¼ˆä¸‹æ–‡æ–¹æ³• 2ï¼‰")])]),a._v(" "),s("hr"),a._v(" "),s("h3",{attrs:{id:"æ–¹æ³•-2-a-æ˜¯ç½‘å…³-å…¶ä»–æœºå™¨ä¹Ÿè¦èµ°è¿™ä¸ªè·¯ç”±-æ›´å¤æ‚"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ–¹æ³•-2-a-æ˜¯ç½‘å…³-å…¶ä»–æœºå™¨ä¹Ÿè¦èµ°è¿™ä¸ªè·¯ç”±-æ›´å¤æ‚"}},[a._v("#")]),a._v(" æ–¹æ³• 2ï¼šA æ˜¯ç½‘å…³ï¼Œå…¶ä»–æœºå™¨ä¹Ÿè¦èµ°è¿™ä¸ªè·¯ç”±ï¼ˆæ›´å¤æ‚ï¼‰")]),a._v(" "),s("p",[a._v("å¦‚æœ A æ˜¯æŸä¸ªç½‘æ®µçš„ç½‘å…³ï¼Œæ¯”å¦‚ä½ å¸Œæœ› "),s("strong",[a._v("A ä»£è¡¨æ•´ä¸ªå±€åŸŸç½‘çš„è·¯ç”±å™¨")]),a._v("ï¼Œè®©å…¶ä»–æœºå™¨å‘å¾€ B çš„åŒ…éƒ½è‡ªåŠ¨é‡å®šå‘åˆ° Cï¼š")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# å¯ç”¨è·¯ç”±è½¬å‘")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" /proc/sys/net/ipv4/ip_forward\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# DNAT æŠŠç›®æ ‡ä¸º B çš„è¯·æ±‚è½¬å‘ç»™ C")]),a._v("\niptables "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-t")]),a._v(" nat "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-A")]),a._v(" PREROUTING "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1.2")]),a._v(".3.4 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" DNAT --to-destination "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("5.6")]),a._v(".7.8\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# SNAT ä¿®æ”¹æºåœ°å€ä¸º A è‡ªå·±ï¼Œé¿å… C æ— æ³•è¿”å›")]),a._v("\niptables "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-t")]),a._v(" nat "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-A")]),a._v(" POSTROUTING "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" MASQUERADE\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br")])]),s("blockquote",[s("p",[a._v("å‰æï¼šå®¢æˆ·ç«¯æœºå™¨çš„é»˜è®¤ç½‘å…³æ˜¯ A")])]),a._v(" "),s("hr"),a._v(" "),s("h2",{attrs:{id:"ğŸš«-æ— æ³•å®ç°çš„åœºæ™¯"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸš«-æ— æ³•å®ç°çš„åœºæ™¯"}},[a._v("#")]),a._v(" ğŸš« æ— æ³•å®ç°çš„åœºæ™¯ï¼š")]),a._v(" "),s("ul",[s("li",[a._v("å¦‚æœ A æ˜¯æ™®é€šå®¢æˆ·ç«¯ï¼Œè€Œä½ æ— æ³•ä¿®æ”¹å…¶è·¯ç”±æˆ– iptablesï¼Œé‚£ä¹ˆå°±æ— æ³•å®ç°ã€‚")]),a._v(" "),s("li",[a._v("å¦‚æœ A ä¸æ§åˆ¶ç½‘ç»œå‡ºå£ï¼ˆå¦‚å‡ºç½‘ç”±è¿è¥å•†ç®¡ç†ï¼‰ï¼Œåˆ™æ— æ³•é€šè¿‡è¿™ç§æ–¹å¼è½¬å‘ã€‚")])]),a._v(" "),s("hr"),a._v(" "),s("h2",{attrs:{id:"âœ…-æ€»ç»“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#âœ…-æ€»ç»“"}},[a._v("#")]),a._v(" âœ… æ€»ç»“")]),a._v(" "),s("table",[s("thead",[s("tr",[s("th",[a._v("ç›®æ ‡")]),a._v(" "),s("th",[a._v("å¯å¦å®ç°")]),a._v(" "),s("th",[a._v("æ–¹å¼")])])]),a._v(" "),s("tbody",[s("tr",[s("td",[a._v("A å‘èµ·è¯·æ±‚ç»™ Bï¼Œå®é™…å» C")]),a._v(" "),s("td",[a._v("âœ… å¯ä»¥")]),a._v(" "),s("td",[a._v("åœ¨ A ä¸Šç”¨ iptables åš DNAT")])]),a._v(" "),s("tr",[s("td",[a._v("æ•´ä¸ªå±€åŸŸç½‘å†…æ‰€æœ‰è®¾å¤‡éƒ½è¯·æ±‚ Bï¼Œå®é™…åˆ° C")]),a._v(" "),s("td",[a._v("âœ… å¯ä»¥")]),a._v(" "),s("td",[a._v("A å¿…é¡»æ˜¯è¿™äº›è®¾å¤‡çš„ç½‘å…³ï¼Œé…ç½®è½¬å‘")])]),a._v(" "),s("tr",[s("td",[a._v("A ä¸å¯æ§")]),a._v(" "),s("td",[a._v("âŒ ä¸å¯è¡Œ")]),a._v(" "),s("td",[a._v("æ— æ³•ä¿®æ”¹å…¶è·¯ç”±è¡¨")])])])]),a._v(" "),s("hr"),a._v(" "),s("p",[a._v("å¦‚æœä½ èƒ½å‘Šè¯‰æˆ‘ A æ˜¯ Linuxã€Windowsã€è¿˜æ˜¯ç½‘å…³è·¯ç”±å™¨è®¾å¤‡ï¼Œæˆ‘å¯ä»¥ç»™ä½ æ›´å…·ä½“çš„å‘½ä»¤ã€‚")]),a._v(" "),s("p",[a._v("æ˜¯å¦éœ€è¦æˆ‘æä¾› "),s("strong",[a._v("Windows ç³»ç»Ÿä¿®æ”¹è·¯ç”±/é˜²ç«å¢™å®ç°çš„æ–¹å¼")]),a._v("ï¼Ÿ")])])}),[],!1,null,null,null);s.default=e.exports}}]);