(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{422:function(t,v,_){"use strict";_.r(v);var e=_(7),r=Object(e.a)({},(function(){var t=this,v=t._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h3",{attrs:{id:"⚙️-常用集群维护命令"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#⚙️-常用集群维护命令"}},[t._v("#")]),t._v(" ⚙️ "),v("strong",[t._v("常用集群维护命令")])]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("命令")]),t._v(" "),v("th",[t._v("用途")]),t._v(" "),v("th",[t._v("示例")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[v("strong",[t._v("查看节点列表")])]),t._v(" "),v("td",[t._v("显示节点 ID、角色、槽位分布")]),t._v(" "),v("td",[v("code",[t._v("docker exec -it redis-7001 redis-cli -h 10.143.143.101 -p 7001 cluster nodes")])])]),t._v(" "),v("tr",[v("td",[v("strong",[t._v("平衡槽位")])]),t._v(" "),v("td",[t._v("重新分配槽位以均衡负载")]),t._v(" "),v("td",[v("code",[t._v("docker exec -it redis-7001 redis-cli --cluster rebalance 10.143.143.101:7001")])])]),t._v(" "),v("tr",[v("td",[v("strong",[t._v("修复槽位冲突")])]),t._v(" "),v("td",[t._v("解决槽位重复分配问题")]),t._v(" "),v("td",[v("code",[t._v("docker exec -it redis-7001 redis-cli --cluster fix 10.143.143.101:7001")])])]),t._v(" "),v("tr",[v("td",[v("strong",[t._v("检查集群状态")])]),t._v(" "),v("td"),t._v(" "),v("td",[v("code",[t._v("docker exec -it redis-7001 redis-cli --cluster check 10.143.143.101:7001")])])]),t._v(" "),v("tr",[v("td",[v("strong",[t._v("查看槽位分配")])]),t._v(" "),v("td"),t._v(" "),v("td",[v("code",[t._v("docker exec -it redis-7001 redis-cli -h 10.143.143.101 -p 7001 CLUSTER SLOTS")])])])])]),t._v(" "),v("hr"),t._v(" "),v("h3",{attrs:{id:"💡-注意事项"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#💡-注意事项"}},[t._v("#")]),t._v(" 💡 "),v("strong",[t._v("注意事项")])]),t._v(" "),v("ol",[v("li",[v("strong",[t._v("容器网络连通性")]),t._v("：\n"),v("ul",[v("li",[t._v("确保容器能访问集群节点的 IP（若节点 IP 为宿主机 IP，需用 "),v("code",[t._v("host")]),t._v(" 网络模式或配置端口映射）。")])])]),t._v(" "),v("li",[v("strong",[t._v("集群健康要求")]),t._v("：\n"),v("ul",[v("li",[t._v("执行 "),v("code",[t._v("check")]),t._v(" 前确保集群状态为 "),v("code",[t._v("OK")]),t._v("（所有主节点在线且槽位全覆盖）。")])])]),t._v(" "),v("li",[v("strong",[t._v("权限问题")]),t._v("：\n"),v("ul",[v("li",[t._v("若容器启动时未挂载配置文件，需检查 Redis 是否绑定了 "),v("code",[t._v("0.0.0.0")]),t._v(" 而非 "),v("code",[t._v("127.0.0.1")]),t._v("。")])])])])])}),[],!1,null,null,null);v.default=r.exports}}]);