(window.webpackJsonp=window.webpackJsonp||[]).push([[98],{455:function(_,t,v){"use strict";v.r(t);var r=v(7),s=Object(r.a)({},(function(){var _=this,t=_._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[t("p",[_._v("åœ¨ Kafka ä¸­ï¼Œ"),t("strong",[_._v("åˆ†åŒºæ•°ï¼ˆPartitionsï¼‰")]),_._v(" å’Œ "),t("strong",[_._v("å‰¯æœ¬æ•°ï¼ˆReplication Factorï¼‰")]),_._v(" æ˜¯ä¸¤ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼Œåˆ†åˆ«æ‰¿æ‹…ä¸åŒçš„è§’è‰²ï¼Œå…±åŒä¿éšœç³»ç»Ÿçš„æ€§èƒ½ã€å¯é æ€§ä¸æ‰©å±•æ€§ã€‚ä»¥ä¸‹æ˜¯ä¸¤è€…çš„è¯¦ç»†åŒºåˆ«åŠä½œç”¨è§£æï¼š")]),_._v(" "),t("hr"),_._v(" "),t("h3",{attrs:{id:"ğŸ§©-ä¸€ã€æ ¸å¿ƒå®šä¹‰"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ§©-ä¸€ã€æ ¸å¿ƒå®šä¹‰"}},[_._v("#")]),_._v(" ğŸ§© "),t("strong",[_._v("ä¸€ã€æ ¸å¿ƒå®šä¹‰")])]),_._v(" "),t("table",[t("thead",[t("tr",[t("th",[t("strong",[_._v("ç»´åº¦")])]),_._v(" "),t("th",[t("strong",[_._v("åˆ†åŒºæ•°ï¼ˆPartitionsï¼‰")])]),_._v(" "),t("th",[t("strong",[_._v("å‰¯æœ¬æ•°ï¼ˆReplication Factorï¼‰")])])])]),_._v(" "),t("tbody",[t("tr",[t("td",[t("strong",[_._v("æœ¬è´¨")])]),_._v(" "),t("td",[_._v("Topic çš„ç‰©ç†åˆ†ç‰‡å•ä½ï¼Œæ¯ä¸ªåˆ†åŒºæ˜¯ä¸€ä¸ªæœ‰åºé˜Ÿåˆ—")]),_._v(" "),t("td",[_._v("æ¯ä¸ªåˆ†åŒºçš„æ•°æ®å†—ä½™å¤‡ä»½æ•°é‡")])]),_._v(" "),t("tr",[t("td",[t("strong",[_._v("ä½œç”¨ç›®æ ‡")])]),_._v(" "),t("td",[_._v("è§£å†³ "),t("strong",[_._v("å¹¶è¡Œå¤„ç†ä¸è´Ÿè½½å‡è¡¡")]),_._v(" é—®é¢˜")]),_._v(" "),t("td",[_._v("è§£å†³ "),t("strong",[_._v("æ•°æ®é«˜å¯ç”¨ä¸å®¹é”™")]),_._v(" é—®é¢˜")])]),_._v(" "),t("tr",[t("td",[t("strong",[_._v("æœ€å°å•ä½")])]),_._v(" "),t("td",[_._v("1 ä¸ªåˆ†åŒºï¼ˆé»˜è®¤å€¼ï¼‰")]),_._v(" "),t("td",[_._v("1 ä¸ªå‰¯æœ¬ï¼ˆæ— å†—ä½™ï¼‰")])])])]),_._v(" "),t("hr"),_._v(" "),t("h3",{attrs:{id:"âš™ï¸-äºŒã€åŠŸèƒ½ä½œç”¨å¯¹æ¯”"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#âš™ï¸-äºŒã€åŠŸèƒ½ä½œç”¨å¯¹æ¯”"}},[_._v("#")]),_._v(" âš™ï¸ "),t("strong",[_._v("äºŒã€åŠŸèƒ½ä½œç”¨å¯¹æ¯”")])]),_._v(" "),t("h4",{attrs:{id:"_1-åˆ†åŒºæ•°-partitions"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-åˆ†åŒºæ•°-partitions"}},[_._v("#")]),_._v(" "),t("strong",[_._v("1. åˆ†åŒºæ•°ï¼ˆPartitionsï¼‰")])]),_._v(" "),t("ul",[t("li",[t("strong",[_._v("æ‰©å±•æ€§ä¸å¹¶è¡Œæ€§")]),t("br"),_._v("\nåˆ†åŒºå°† Topic æ•°æ®æ‹†åˆ†ä¸ºå¤šä¸ªå­é˜Ÿåˆ—ï¼Œå…è®¸ï¼š\n"),t("ul",[t("li",[_._v("ç”Ÿäº§è€…å¹¶è¡Œå†™å…¥ä¸åŒåˆ†åŒºï¼›")]),_._v(" "),t("li",[_._v("æ¶ˆè´¹è€…ç»„å†…å¤šä¸ªæ¶ˆè´¹è€…å¹¶å‘æ¶ˆè´¹ä¸åŒåˆ†åŒºï¼ˆä¸€ä¸ªåˆ†åŒºä»…ç”±ç»„å†…ä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ï¼‰ã€‚")])])]),_._v(" "),t("li",[t("strong",[_._v("è´Ÿè½½å‡è¡¡")]),t("br"),_._v("\næ•°æ®é€šè¿‡è½®è¯¢æˆ–å“ˆå¸Œç­–ç•¥åˆ†å¸ƒåˆ°ä¸åŒåˆ†åŒºï¼Œé¿å…å• Broker æˆä¸ºç“¶é¢ˆã€‚")]),_._v(" "),t("li",[t("strong",[_._v("é¡ºåºæ€§ä¿è¯")]),t("br"),_._v("\nåˆ†åŒºå†…æ¶ˆæ¯æœ‰åºï¼Œåˆ†åŒºé—´æ— åºã€‚éœ€é¡ºåºå¤„ç†çš„æ¶ˆæ¯å¿…é¡»å†™å…¥åŒä¸€åˆ†åŒºï¼ˆå¦‚è®¢å•æµæ°´ï¼‰ã€‚")])]),_._v(" "),t("h4",{attrs:{id:"_2-å‰¯æœ¬æ•°-replication-factor"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-å‰¯æœ¬æ•°-replication-factor"}},[_._v("#")]),_._v(" "),t("strong",[_._v("2. å‰¯æœ¬æ•°ï¼ˆReplication Factorï¼‰")])]),_._v(" "),t("ul",[t("li",[t("strong",[_._v("å®¹é”™æ€§ä¸é«˜å¯ç”¨")]),t("br"),_._v("\næ¯ä¸ªåˆ†åŒºçš„å‰¯æœ¬åˆ†å¸ƒåœ¨å¤šä¸ª Broker ä¸Šï¼š\n"),t("ul",[t("li",[t("strong",[_._v("Leader å‰¯æœ¬")]),_._v("ï¼šå¤„ç†è¯»å†™è¯·æ±‚ï¼›")]),_._v(" "),t("li",[t("strong",[_._v("Follower å‰¯æœ¬")]),_._v("ï¼šå¼‚æ­¥/åŒæ­¥ä» Leader å¤åˆ¶æ•°æ®ã€‚")]),_._v(" "),t("li",[t("strong",[_._v("æ•…éšœè½¬ç§»")]),_._v("ï¼šLeader å®•æœºæ—¶ï¼Œä» Follower å‰¯æœ¬é€‰ä¸¾æ–° Leaderã€‚")])])]),_._v(" "),t("li",[t("strong",[_._v("æ•°æ®å¯é æ€§")]),t("br"),_._v("\nå‰¯æœ¬æ•° "),t("code",[_._v("N")]),_._v(" å¯å®¹å¿ "),t("code",[_._v("N-1")]),_._v(" ä¸ª Broker æ•…éšœï¼ˆä¾‹å¦‚ 3 å‰¯æœ¬å®¹å¿ 2 èŠ‚ç‚¹æ•…éšœï¼‰ã€‚")])]),_._v(" "),t("hr"),_._v(" "),t("h3",{attrs:{id:"ğŸ“Š-ä¸‰ã€é…ç½®ä¸çº¦æŸ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ“Š-ä¸‰ã€é…ç½®ä¸çº¦æŸ"}},[_._v("#")]),_._v(" ğŸ“Š "),t("strong",[_._v("ä¸‰ã€é…ç½®ä¸çº¦æŸ")])]),_._v(" "),t("table",[t("thead",[t("tr",[t("th",[t("strong",[_._v("ç»´åº¦")])]),_._v(" "),t("th",[t("strong",[_._v("åˆ†åŒºæ•°")])]),_._v(" "),t("th",[t("strong",[_._v("å‰¯æœ¬æ•°")])])])]),_._v(" "),t("tbody",[t("tr",[t("td",[t("strong",[_._v("åˆ›å»ºåä¿®æ”¹")])]),_._v(" "),t("td",[_._v("âœ… å¯å¢åŠ ï¼ˆ"),t("code",[_._v("kafka-topics.sh --alter")]),_._v("ï¼‰ï¼Œä¸å¯å‡å°‘")]),_._v(" "),t("td",[_._v("âŒ ä¸å¯ä¿®æ”¹ï¼ˆéœ€é‡å»º Topic æˆ–è°ƒæ•´å‰¯æœ¬åˆ†å¸ƒï¼‰")])]),_._v(" "),t("tr",[t("td",[t("strong",[_._v("æ•°é‡é™åˆ¶")])]),_._v(" "),t("td",[_._v("æ— ç¡¬æ€§ä¸Šé™ï¼Œä½†å• Broker å»ºè®® â‰¤200 åˆ†åŒº")]),_._v(" "),t("td",[_._v("â‰¤ Broker æ•°é‡ï¼ˆå¦‚ 3 Broker æ—¶å‰¯æœ¬æ•° â‰¤3ï¼‰")])]),_._v(" "),t("tr",[t("td",[t("strong",[_._v("æ€§èƒ½å½±å“")])]),_._v(" "),t("td",[_._v("è¿‡å¤šåˆ†åŒºå¯¼è‡´å…ƒæ•°æ®è†¨èƒ€ã€é€‰ä¸¾å»¶è¿Ÿ")]),_._v(" "),t("td",[_._v("å‰¯æœ¬è¶Šå¤šï¼Œå†™å…¥å»¶è¿Ÿè¶Šé«˜ï¼ˆéœ€åŒæ­¥æ›´å¤šèŠ‚ç‚¹ï¼‰")])])])]),_._v(" "),t("hr"),_._v(" "),t("h3",{attrs:{id:"âš–ï¸-å››ã€ç”Ÿäº§ç¯å¢ƒé…ç½®å»ºè®®"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#âš–ï¸-å››ã€ç”Ÿäº§ç¯å¢ƒé…ç½®å»ºè®®"}},[_._v("#")]),_._v(" âš–ï¸ "),t("strong",[_._v("å››ã€ç”Ÿäº§ç¯å¢ƒé…ç½®å»ºè®®")])]),_._v(" "),t("h4",{attrs:{id:"_1-åˆ†åŒºæ•°è®¾ç½®"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-åˆ†åŒºæ•°è®¾ç½®"}},[_._v("#")]),_._v(" "),t("strong",[_._v("1. åˆ†åŒºæ•°è®¾ç½®")])]),_._v(" "),t("ul",[t("li",[t("strong",[_._v("è®¡ç®—å…¬å¼")]),_._v("ï¼š"),t("br"),_._v(" "),t("code",[_._v("åˆ†åŒºæ•° = max(ç›®æ ‡ç”Ÿäº§ååé‡ / å•åˆ†åŒºåå, ç›®æ ‡æ¶ˆè´¹ååé‡ / å•åˆ†åŒºæ¶ˆè´¹èƒ½åŠ›)")]),t("br"),_._v("\nï¼ˆå•åˆ†åŒºååå‚è€ƒå€¼ï¼šç”Ÿäº§ 10MB/sï¼Œæ¶ˆè´¹ 10MB/sï¼‰")]),_._v(" "),t("li",[t("strong",[_._v("åœºæ™¯ç¤ºä¾‹")]),_._v("ï¼š\n"),t("ul",[t("li",[_._v("ä½ååæ—¥å¿—ï¼š1~3 åˆ†åŒºï¼›")]),_._v(" "),t("li",[_._v("è®¢å•ç³»ç»Ÿï¼š10~30 åˆ†åŒºï¼ˆåŒ¹é…æ¶ˆè´¹è€…å®ä¾‹æ•° Ã—2ï¼‰ï¼›")]),_._v(" "),t("li",[_._v("æµå¤„ç†é«˜ååï¼šæŒ‰å…¬å¼åŠ¨æ€æ‰©å±•ã€‚")])])])]),_._v(" "),t("h4",{attrs:{id:"_2-å‰¯æœ¬æ•°è®¾ç½®"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-å‰¯æœ¬æ•°è®¾ç½®"}},[_._v("#")]),_._v(" "),t("strong",[_._v("2. å‰¯æœ¬æ•°è®¾ç½®")])]),_._v(" "),t("ul",[t("li",[t("p",[t("strong",[_._v("æ¨èå€¼")]),_._v("ï¼š")]),_._v(" "),t("table",[t("thead",[t("tr",[t("th",[t("strong",[_._v("ç¯å¢ƒ")])]),_._v(" "),t("th",[t("strong",[_._v("å‰¯æœ¬æ•°")])]),_._v(" "),t("th",[t("strong",[_._v("å®¹é”™èƒ½åŠ›")])])])]),_._v(" "),t("tbody",[t("tr",[t("td",[_._v("å¼€å‘/æµ‹è¯•")]),_._v(" "),t("td",[_._v("1~2")]),_._v(" "),t("td",[_._v("æ— æˆ–å¼±å®¹é”™")])]),_._v(" "),t("tr",[t("td",[t("strong",[_._v("ç”Ÿäº§ç¯å¢ƒ")])]),_._v(" "),t("td",[t("strong",[_._v("â‰¥3")])]),_._v(" "),t("td",[_._v("å®¹å¿ 1~2 èŠ‚ç‚¹æ•…éšœ")])]),_._v(" "),t("tr",[t("td",[_._v("é‡‘èçº§ç³»ç»Ÿ")]),_._v(" "),t("td",[_._v("3~5")]),_._v(" "),t("td",[_._v("å®¹å¿ 2~4 èŠ‚ç‚¹æ•…éšœ")])])])])]),_._v(" "),t("li",[t("p",[t("strong",[_._v("å…³é”®å‚æ•°")]),_._v("ï¼š")]),_._v(" "),t("ul",[t("li",[t("code",[_._v("min.insync.replicas")]),_._v("ï¼šæœ€å°åŒæ­¥å‰¯æœ¬æ•°ï¼ˆå»ºè®®=2ï¼Œé…åˆ "),t("code",[_._v("acks=all")]),_._v(" ä½¿ç”¨ï¼‰ï¼›")]),_._v(" "),t("li",[t("code",[_._v("unclean.leader.election.enable=false")]),_._v("ï¼šç¦æ­¢éåŒæ­¥å‰¯æœ¬æˆä¸º Leaderã€‚")])])])]),_._v(" "),t("hr"),_._v(" "),t("h3",{attrs:{id:"ğŸ’-æ€»ç»“-æ ¸å¿ƒå·®å¼‚ä¸€å¥è¯"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ’-æ€»ç»“-æ ¸å¿ƒå·®å¼‚ä¸€å¥è¯"}},[_._v("#")]),_._v(" ğŸ’ "),t("strong",[_._v("æ€»ç»“ï¼šæ ¸å¿ƒå·®å¼‚ä¸€å¥è¯")])]),_._v(" "),t("blockquote",[t("p",[t("strong",[_._v("åˆ†åŒºæ˜¯æ°´å¹³æ‰©å±•çš„åˆ€ï¼Œåˆ‡å‰²æ•°æ®ä»¥æå‡å¹¶å‘ï¼›å‰¯æœ¬æ˜¯å®¹é”™çš„ç›¾ï¼Œå¤åˆ¶æ•°æ®ä»¥æŠµå¾¡æ•…éšœã€‚")])]),_._v(" "),t("ul",[t("li",[t("strong",[_._v("åˆ†åŒºæ•°")]),_._v(" â†’ å®šä¹‰ "),t("strong",[_._v("å¹¶è¡Œèƒ½åŠ›ä¸Šé™")]),_._v("ï¼ˆæ¶ˆè´¹è€…çº¿ç¨‹æ•° â‰¤ åˆ†åŒºæ•°ï¼‰ï¼›")]),_._v(" "),t("li",[t("strong",[_._v("å‰¯æœ¬æ•°")]),_._v(" â†’ å®šä¹‰ "),t("strong",[_._v("æ•°æ®ç”Ÿå­˜èƒ½åŠ›")]),_._v("ï¼ˆå‰¯æœ¬æ•°è¶Šé«˜ï¼Œæ•°æ®è¶Šéš¾ä¸¢å¤±ï¼‰ã€‚")])])]),_._v(" "),t("p",[_._v("å®é™…éƒ¨ç½²éœ€ç»“åˆé›†ç¾¤è§„æ¨¡ï¼ˆå¦‚ 3 Broker æ—¶å‰¯æœ¬æ•°æœ€å¤§ä¸º 3ï¼‰ã€ä¸šåŠ¡åååŠå®¹ç¾éœ€æ±‚ç»¼åˆè®¾è®¡ï¼Œé¿å…è¿‡åº¦é…ç½®å¼•å‘æ€§èƒ½æŸè€—ã€‚")])])}),[],!1,null,null,null);t.default=s.exports}}]);