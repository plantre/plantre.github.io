(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{452:function(t,v,_){"use strict";_.r(v);var s=_(7),r=Object(s.a)({},(function(){var t=this,v=t._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("p",[t._v("Kafka ä¸­çš„ "),v("strong",[t._v("Topicï¼ˆä¸»é¢˜ï¼‰")]),t._v("ã€"),v("strong",[t._v("Keyï¼ˆé”®ï¼‰")]),t._v(" å’Œ "),v("strong",[t._v("åˆ†åŒºï¼ˆPartitionï¼‰")]),t._v(" æ˜¯æ ¸å¿ƒæ¦‚å¿µï¼Œå…¶å…³ç³»ä¸æ•°é‡å¯¹åº”ç›´æ¥å½±å“æ¶ˆæ¯çš„å­˜å‚¨ã€åˆ†å‘å’Œæ¶ˆè´¹æ€§èƒ½ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†è§£æï¼š")]),t._v(" "),v("hr"),t._v(" "),v("h3",{attrs:{id:"ğŸ”-ä¸€ã€æ ¸å¿ƒå…³ç³»"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”-ä¸€ã€æ ¸å¿ƒå…³ç³»"}},[t._v("#")]),t._v(" ğŸ” "),v("strong",[t._v("ä¸€ã€æ ¸å¿ƒå…³ç³»")])]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[v("strong",[t._v("æ¦‚å¿µ")])]),t._v(" "),v("th",[v("strong",[t._v("ä½œç”¨")])]),t._v(" "),v("th",[v("strong",[t._v("ä¸åˆ†åŒºçš„å…³ç³»")])])])]),t._v(" "),v("tbody",[v("tr",[v("td",[v("strong",[t._v("Topic")])]),t._v(" "),v("td",[t._v("æ¶ˆæ¯çš„é€»è¾‘åˆ†ç±»ï¼ˆå¦‚è®¢å•ã€æ—¥å¿—ï¼‰")]),t._v(" "),v("td",[t._v("ä¸€ä¸ª Topic å¯åˆ’åˆ†ä¸ºå¤šä¸ªåˆ†åŒºï¼ˆPartitionï¼‰ï¼Œåˆ†åŒºæ˜¯ Topic çš„ç‰©ç†å­˜å‚¨å•å…ƒã€‚")])]),t._v(" "),v("tr",[v("td",[v("strong",[t._v("Key")])]),t._v(" "),v("td",[t._v("æ¶ˆæ¯çš„æ ‡è¯†å­—æ®µï¼ˆå¯é€‰ï¼‰")]),t._v(" "),v("td",[t._v("å†³å®šæ¶ˆæ¯åˆ†é…åˆ°å“ªä¸ªåˆ†åŒºï¼š"),v("br"),t._v(" â€¢ ç›¸åŒ Key çš„æ¶ˆæ¯åˆ†é…åˆ°åŒä¸€åˆ†åŒºï¼Œä¿è¯é¡ºåºæ€§ã€‚")])]),t._v(" "),v("tr",[v("td",[v("strong",[t._v("Partition")])]),t._v(" "),v("td",[t._v("ç‰©ç†å­˜å‚¨å•å…ƒï¼Œåˆ†åŒºå†…æ¶ˆæ¯æœ‰åºï¼ˆOffset é€’å¢ï¼‰ï¼Œåˆ†åŒºé—´æ— åº")]),t._v(" "),v("td",[t._v("åˆ†åŒºæ•°é‡å†³å®š Topic çš„å¹¶å‘å¤„ç†èƒ½åŠ›å’Œè´Ÿè½½å‡è¡¡èƒ½åŠ›ã€‚")])])])]),t._v(" "),v("blockquote",[v("p",[t._v("âœ… "),v("strong",[t._v("å…³é”®æœºåˆ¶")]),t._v("ï¼š")]),t._v(" "),v("ul",[v("li",[v("strong",[t._v("ç”Ÿäº§è€…å‘é€æ¶ˆæ¯")]),t._v("ï¼šé€šè¿‡ Key è®¡ç®—åˆ†åŒºä½ç½®ï¼ˆå“ˆå¸Œå–æ¨¡ï¼‰ã€‚")]),t._v(" "),v("li",[v("strong",[t._v("æ¶ˆè´¹è€…æ¶ˆè´¹æ¶ˆæ¯")]),t._v("ï¼šæ¶ˆè´¹è€…ç»„ï¼ˆConsumer Groupï¼‰æŒ‰åˆ†åŒºåˆ†é…æ¶ˆè´¹ä»»åŠ¡ï¼Œ"),v("strong",[t._v("ä¸€ä¸ªåˆ†åŒºåŒä¸€æ—¶åˆ»åªèƒ½è¢«ç»„å†…ä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹")]),t._v("ã€‚")])])]),t._v(" "),v("hr"),t._v(" "),v("h3",{attrs:{id:"ğŸ“Š-äºŒã€æ•°é‡å¯¹åº”å…³ç³»"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ“Š-äºŒã€æ•°é‡å¯¹åº”å…³ç³»"}},[t._v("#")]),t._v(" ğŸ“Š "),v("strong",[t._v("äºŒã€æ•°é‡å¯¹åº”å…³ç³»")])]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[v("strong",[t._v("åœºæ™¯")])]),t._v(" "),v("th",[v("strong",[t._v("æ•°é‡è§„åˆ™")])]),t._v(" "),v("th",[v("strong",[t._v("å½±å“")])])])]),t._v(" "),v("tbody",[v("tr",[v("td",[v("strong",[t._v("Topic åˆ†åŒºæ•° vs. æ¶ˆè´¹è€…æ•°")])]),t._v(" "),v("td",[t._v("â€¢ åˆ†åŒºæ•° â‰¥ æ¶ˆè´¹è€…æ•°ï¼šæ¶ˆè´¹è€…å¯å¹¶è¡Œæ¶ˆè´¹ä¸åŒåˆ†åŒº"),v("br"),t._v(" â€¢ åˆ†åŒºæ•° < æ¶ˆè´¹è€…æ•°ï¼šéƒ¨åˆ†æ¶ˆè´¹è€…é—²ç½®")]),t._v(" "),v("td",[t._v("æ¶ˆè´¹è€…æ•°é‡è¶…è¿‡åˆ†åŒºæ•°ä¼šå¯¼è‡´èµ„æºæµªè´¹ã€‚")])]),t._v(" "),v("tr",[v("td",[v("strong",[t._v("Key ä¸åˆ†åŒºåˆ†å¸ƒ")])]),t._v(" "),v("td",[t._v("â€¢ ç›¸åŒ Key â†’ åŒä¸€åˆ†åŒº"),v("br"),t._v(" â€¢ æ—  Key â†’ è½®è¯¢æˆ–éšæœºåˆ†é…åˆ†åŒº")]),t._v(" "),v("td",[t._v("Key è®¾è®¡ä¸å½“å¯èƒ½å¯¼è‡´åˆ†åŒºæ•°æ®å€¾æ–œï¼ˆå¦‚å¤§é‡ç›¸åŒ Key å¯¼è‡´å•ä¸ªåˆ†åŒºè´Ÿè½½è¿‡é«˜ï¼‰ã€‚")])]),t._v(" "),v("tr",[v("td",[v("strong",[t._v("åˆ†åŒºæ•° vs. é›†ç¾¤æ€§èƒ½")])]),t._v(" "),v("td",[t._v("åˆ†åŒºæ•° = max(ç”Ÿäº§ååé‡/å•åˆ†åŒºç”Ÿäº§èƒ½åŠ›, æ¶ˆè´¹ååé‡/å•åˆ†åŒºæ¶ˆè´¹èƒ½åŠ›)")]),t._v(" "),v("td",[t._v("åˆ†åŒºè¿‡å¤šå¢åŠ  Broker å…ƒæ•°æ®å¼€é”€ï¼Œè¿‡å°‘é™åˆ¶å¹¶å‘èƒ½åŠ›ã€‚")])])])]),t._v(" "),v("blockquote",[v("p",[t._v("âš ï¸ "),v("strong",[t._v("åˆ†åŒºæ•°é‡å»ºè®®")]),t._v("ï¼š")]),t._v(" "),v("ul",[v("li",[v("strong",[t._v("ç»éªŒå€¼")]),t._v("ï¼šå• Broker ç®¡ç† 100-200 ä¸ªåˆ†åŒºï¼ˆé¿å…æ–‡ä»¶å¥æŸ„å’Œå†…å­˜å‹åŠ›è¿‡å¤§ï¼‰ã€‚")]),t._v(" "),v("li",[v("strong",[t._v("åŸºå‡†å€¼")]),t._v("ï¼šå•åˆ†åŒºååçº¦ 10MB/sï¼ˆç”Ÿäº§ï¼‰ + 10MB/sï¼ˆæ¶ˆè´¹ï¼‰ã€‚")])])]),t._v(" "),v("hr"),t._v(" "),v("h3",{attrs:{id:"âš™ï¸-ä¸‰ã€é»˜è®¤å€¼é…ç½®"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#âš™ï¸-ä¸‰ã€é»˜è®¤å€¼é…ç½®"}},[t._v("#")]),t._v(" âš™ï¸ "),v("strong",[t._v("ä¸‰ã€é»˜è®¤å€¼é…ç½®")])]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[v("strong",[t._v("é…ç½®é¡¹")])]),t._v(" "),v("th",[v("strong",[t._v("é»˜è®¤å€¼")])]),t._v(" "),v("th",[v("strong",[t._v("è¯´æ˜")])])])]),t._v(" "),v("tbody",[v("tr",[v("td",[v("strong",[t._v("Topic åˆ†åŒºæ•°")])]),t._v(" "),v("td",[v("code",[t._v("1")])]),t._v(" "),v("td",[t._v("åˆ›å»º Topic æ—¶æœªæŒ‡å®šåˆ†åŒºæ•°åˆ™é»˜è®¤ä¸º 1ã€‚")])]),t._v(" "),v("tr",[v("td",[v("strong",[t._v("Key")])]),t._v(" "),v("td",[v("code",[t._v("null")])]),t._v(" "),v("td",[t._v("ç”Ÿäº§è€…å‘é€æ¶ˆæ¯æ—¶å¯ä¸æŒ‡å®š Keyï¼Œæ­¤æ—¶é‡‡ç”¨è½®è¯¢ç­–ç•¥åˆ†é…åˆ†åŒºã€‚")])]),t._v(" "),v("tr",[v("td",[v("strong",[t._v("å‰¯æœ¬å› å­ï¼ˆReplicationï¼‰")])]),t._v(" "),v("td",[v("code",[t._v("1")])]),t._v(" "),v("td",[t._v("æ¯ä¸ªåˆ†åŒºçš„å‰¯æœ¬æ•°ï¼Œé»˜è®¤ 1ï¼ˆæ— å†—ä½™ï¼‰ï¼Œç”Ÿäº§ç¯å¢ƒå»ºè®® â‰¥3ã€‚")])]),t._v(" "),v("tr",[v("td",[v("strong",[t._v("ç”Ÿäº§è€…åˆ†åŒºç­–ç•¥")])]),t._v(" "),v("td",[v("code",[t._v("DefaultPartitioner")])]),t._v(" "),v("td",[t._v("æŒ‰ Key å“ˆå¸Œæˆ–è½®è¯¢åˆ†é…åˆ†åŒºã€‚")])]),t._v(" "),v("tr",[v("td",[v("strong",[t._v("æ¶ˆè´¹è€…ç»„ ID")])]),t._v(" "),v("td",[t._v("æ— é»˜è®¤å€¼ï¼ˆå¿…é¡»æ‰‹åŠ¨é…ç½®ï¼‰")]),t._v(" "),v("td",[t._v("æ¶ˆè´¹è€…ç»„æ ‡è¯†ï¼Œç›¸åŒç»„ ID çš„æ¶ˆè´¹è€…å…±äº«åˆ†åŒºæ¶ˆè´¹ä»»åŠ¡ã€‚")])])])]),t._v(" "),v("blockquote",[v("p",[t._v("ğŸ’¡ "),v("strong",[t._v("ç¤ºä¾‹å‘½ä»¤")]),t._v("ï¼šåˆ›å»ºå« 3 åˆ†åŒºã€2 å‰¯æœ¬çš„ Topic")]),t._v(" "),v("div",{staticClass:"language-bash line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-bash"}},[v("code",[t._v("bin/kafka-topics.sh "),v("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--create")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  --bootstrap-server localhost:9092 "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--topic")]),t._v(" orders "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--partitions")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("          "),v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# åˆ†åŒºæ•°=3")]),t._v("\n  --replication-factor "),v("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("     "),v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å‰¯æœ¬æ•°=2")]),t._v("\n")])]),t._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[t._v("1")]),v("br"),v("span",{staticClass:"line-number"},[t._v("2")]),v("br"),v("span",{staticClass:"line-number"},[t._v("3")]),v("br"),v("span",{staticClass:"line-number"},[t._v("4")]),v("br"),v("span",{staticClass:"line-number"},[t._v("5")]),v("br")])])]),t._v(" "),v("hr"),t._v(" "),v("h3",{attrs:{id:"âš¡-å››ã€è®¾è®¡å»ºè®®"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#âš¡-å››ã€è®¾è®¡å»ºè®®"}},[t._v("#")]),t._v(" âš¡ "),v("strong",[t._v("å››ã€è®¾è®¡å»ºè®®")])]),t._v(" "),v("ol",[v("li",[v("strong",[t._v("Key çš„ä½¿ç”¨åœºæ™¯")]),t._v("ï¼š\n"),v("ul",[v("li",[v("strong",[t._v("éœ€é¡ºåºæ¶ˆè´¹")]),t._v("ï¼šç›¸åŒä¸šåŠ¡æ•°æ®ï¼ˆå¦‚è®¢å• IDï¼‰è®¾ç½®ç›¸åŒ Keyã€‚")]),t._v(" "),v("li",[v("strong",[t._v("éœ€è´Ÿè½½å‡è¡¡")]),t._v("ï¼šæ—  Key æˆ–ä½¿ç”¨å¤åˆ Keyï¼ˆå¦‚ "),v("code",[t._v("ç”¨æˆ·ID+æ—¶é—´æˆ³")]),t._v("ï¼‰ã€‚")])])]),t._v(" "),v("li",[v("strong",[t._v("åˆ†åŒºæ‰©å®¹")]),t._v("ï¼š\n"),v("ul",[v("li",[t._v("Kafka æ”¯æŒå¢åŠ åˆ†åŒºæ•°ï¼ˆä¸å¯å‡å°‘ï¼‰ï¼Œä½† "),v("strong",[t._v("Key çš„åˆ†åŒºæ˜ å°„ä¼šå› æ•°é‡å˜åŒ–è€Œæ”¹å˜")]),t._v("ï¼ˆéœ€è¯„ä¼°é¡ºåºæ€§å½±å“ï¼‰ã€‚")])])]),t._v(" "),v("li",[v("strong",[t._v("æ€§èƒ½è°ƒä¼˜")]),t._v("ï¼š\n"),v("ul",[v("li",[t._v("ç›‘æ§åˆ†åŒºè´Ÿè½½ï¼Œé¿å…å€¾æ–œï¼ˆé€šè¿‡ "),v("code",[t._v("kafka-topics.sh --describe")]),t._v(" æŸ¥çœ‹åˆ†åŒºåˆ†å¸ƒï¼‰ã€‚")]),t._v(" "),v("li",[t._v("æ¶ˆè´¹è€…æ•°é‡ä¸åˆ†åŒºæ•°å¯¹é½ï¼Œæœ€å¤§åŒ–å¹¶å‘ã€‚")])])])]),t._v(" "),v("hr"),t._v(" "),v("h3",{attrs:{id:"ğŸ’-æ€»ç»“"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ’-æ€»ç»“"}},[t._v("#")]),t._v(" ğŸ’ "),v("strong",[t._v("æ€»ç»“")])]),t._v(" "),v("blockquote",[v("ul",[v("li",[v("strong",[t._v("Topic")]),t._v("ï¼šé€»è¾‘æ¶ˆæ¯æµï¼Œç‰©ç†åˆ’åˆ†ä¸ºå¤šä¸ª "),v("strong",[t._v("åˆ†åŒº")]),t._v("ã€‚")]),t._v(" "),v("li",[v("strong",[t._v("Key")]),t._v("ï¼šæ§åˆ¶æ¶ˆæ¯çš„åˆ†åŒºå½’å±ï¼Œå†³å®šé¡ºåºæ€§ä¸è´Ÿè½½å‡è¡¡ã€‚")]),t._v(" "),v("li",[v("strong",[t._v("é»˜è®¤å€¼")]),t._v("ï¼šåˆ†åŒºæ•°=1ã€å‰¯æœ¬æ•°=1ã€Key=nullï¼ˆè½®è¯¢ç­–ç•¥ï¼‰ã€‚"),v("br"),t._v("\nåˆç†è®¾è®¡ä¸‰è€…çš„å…³ç³»æ˜¯ä¼˜åŒ– Kafka ååã€é¡ºåºæ€§å’Œå¯é æ€§çš„å…³é”®ã€‚")])])])])}),[],!1,null,null,null);v.default=r.exports}}]);