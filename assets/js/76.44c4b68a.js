(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{433:function(_,v,t){"use strict";t.r(v);var r=t(7),o=Object(r.a)({},(function(){var _=this,v=_._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[v("p",[_._v("Seata ä½œä¸ºä¸»æµçš„åˆ†å¸ƒå¼äº‹åŠ¡è§£å†³æ–¹æ¡ˆï¼Œæ”¯æŒä»¥ä¸‹å››ç§äº‹åŠ¡æ¨¡å¼ï¼Œè¦†ç›–ä¸åŒä¸šåŠ¡åœºæ™¯çš„éœ€æ±‚ï¼š")]),_._v(" "),v("hr"),_._v(" "),v("h3",{attrs:{id:"ğŸ”§-1-at-æ¨¡å¼-auto-transaction"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”§-1-at-æ¨¡å¼-auto-transaction"}},[_._v("#")]),_._v(" ğŸ”§ "),v("strong",[_._v("1. AT æ¨¡å¼ï¼ˆAuto Transactionï¼‰")])]),_._v(" "),v("p",[v("strong",[_._v("åŸç†")]),_._v("ï¼šåŸºäºäºŒé˜¶æ®µæäº¤ï¼ˆ2PCï¼‰ä¼˜åŒ–ï¼Œé€šè¿‡ "),v("strong",[_._v("SQL è§£æ + å›æ»šæ—¥å¿—")]),_._v(" å®ç°è‡ªåŠ¨è¡¥å¿ï¼Œä¸šåŠ¡ä¾µå…¥æ€§ä½ã€‚"),v("br"),_._v(" "),v("strong",[_._v("å·¥ä½œæµç¨‹")]),_._v("ï¼š")]),_._v(" "),v("ol",[v("li",[v("strong",[_._v("ä¸€é˜¶æ®µ")]),_._v("ï¼š\n"),v("ul",[v("li",[_._v("è§£æä¸šåŠ¡ SQLï¼Œç”Ÿæˆå‰ç½®å¿«ç…§ï¼ˆBefore Imageï¼‰å’Œä¸šåŠ¡æ“ä½œåçš„å¿«ç…§ï¼ˆAfter Imageï¼‰ã€‚")]),_._v(" "),v("li",[_._v("å°†å¿«ç…§å­˜å…¥ "),v("code",[_._v("undo_log")]),_._v(" è¡¨ï¼Œä¸ä¸šåŠ¡ SQL åœ¨åŒä¸€æœ¬åœ°äº‹åŠ¡ä¸­æäº¤ã€‚")])])]),_._v(" "),v("li",[v("strong",[_._v("äºŒé˜¶æ®µ")]),_._v("ï¼š\n"),v("ul",[v("li",[v("strong",[_._v("æäº¤")]),_._v("ï¼šå¼‚æ­¥åˆ é™¤ "),v("code",[_._v("undo_log")]),_._v(" æ—¥å¿—ã€‚")]),_._v(" "),v("li",[v("strong",[_._v("å›æ»š")]),_._v("ï¼šæ ¹æ® "),v("code",[_._v("undo_log")]),_._v(" ç”Ÿæˆåå‘ SQL è¡¥å¿æ•°æ®ã€‚"),v("br"),_._v(" "),v("strong",[_._v("é€‚ç”¨åœºæ™¯")]),_._v("ï¼š")])])])]),_._v(" "),v("ul",[v("li",[_._v("å¸¸è§„ä¸šåŠ¡ï¼ˆå¦‚è®¢å•åˆ›å»ºã€åº“å­˜æ‰£å‡ï¼‰ï¼Œéœ€å¿«é€Ÿæ¥å…¥åˆ†å¸ƒå¼äº‹åŠ¡ã€‚"),v("br"),_._v(" "),v("strong",[_._v("ä¼˜ç‚¹")]),_._v("ï¼š")]),_._v(" "),v("li",[_._v("ä¸šåŠ¡æ— ä¾µå…¥ï¼Œä»…éœ€é…ç½®ä»£ç†æ•°æ®æºã€‚"),v("br"),_._v(" "),v("strong",[_._v("ç¼ºç‚¹")]),_._v("ï¼š")]),_._v(" "),v("li",[_._v("ä¾èµ–æ•°æ®åº“è¡Œé”ï¼Œé«˜å¹¶å‘ä¸‹å¯èƒ½é˜»å¡ï¼ˆå¦‚çƒ­ç‚¹æ•°æ®æ›´æ–°ï¼‰ã€‚")])]),_._v(" "),v("hr"),_._v(" "),v("h3",{attrs:{id:"âš™ï¸-2-tcc-æ¨¡å¼-try-confirm-cancel"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#âš™ï¸-2-tcc-æ¨¡å¼-try-confirm-cancel"}},[_._v("#")]),_._v(" âš™ï¸ "),v("strong",[_._v("2. TCC æ¨¡å¼ï¼ˆTry-Confirm-Cancelï¼‰")])]),_._v(" "),v("p",[v("strong",[_._v("åŸç†")]),_._v("ï¼šé€šè¿‡ "),v("strong",[_._v("ä¸šåŠ¡ç¼–ç ")]),_._v(" å®ç°ä¸¤é˜¶æ®µï¼Œéœ€æ‰‹åŠ¨ç¼–å†™ä¸‰ä¸ªé˜¶æ®µæ–¹æ³•ï¼š")]),_._v(" "),v("ul",[v("li",[v("strong",[_._v("Try")]),_._v("ï¼šèµ„æºé¢„ç•™ï¼ˆå¦‚å†»ç»“åº“å­˜ã€é¢„æ‰£ä½™é¢ï¼‰ã€‚")]),_._v(" "),v("li",[v("strong",[_._v("Confirm")]),_._v("ï¼šæ‰§è¡Œå®é™…ä¸šåŠ¡ï¼ˆå¦‚æ‰£å‡å†»ç»“èµ„æºï¼‰ã€‚")]),_._v(" "),v("li",[v("strong",[_._v("Cancel")]),_._v("ï¼šé‡Šæ”¾é¢„ç•™èµ„æºï¼ˆå¦‚è§£å†»åº“å­˜ï¼‰ã€‚"),v("br"),_._v(" "),v("strong",[_._v("å…³é”®è¦æ±‚")]),_._v("ï¼š")]),_._v(" "),v("li",[_._v("Confirm/Cancel éœ€ä¿è¯ "),v("strong",[_._v("å¹‚ç­‰æ€§")]),_._v("ï¼ˆç½‘ç»œé‡è¯•å¯èƒ½å¯¼è‡´é‡å¤è°ƒç”¨ï¼‰ã€‚")]),_._v(" "),v("li",[_._v("éœ€å¤„ç† "),v("strong",[_._v("ä¸‰å¤§å¼‚å¸¸")]),_._v("ï¼š\n"),v("ul",[v("li",[v("strong",[_._v("ç©ºå›æ»š")]),_._v("ï¼šæœªæ‰§è¡Œ Try æ—¶è§¦å‘ Cancelï¼ˆéœ€æ£€æŸ¥äº‹åŠ¡è®°å½•ï¼‰ã€‚")]),_._v(" "),v("li",[v("strong",[_._v("å¹‚ç­‰")]),_._v("ï¼šé‡å¤è°ƒç”¨ Confirm/Cancel éœ€è¿”å›ç›¸åŒç»“æœã€‚")]),_._v(" "),v("li",[v("strong",[_._v("æ‚¬æŒ‚")]),_._v("ï¼šCancel åœ¨ Try å‰æ‰§è¡Œï¼ˆéœ€äº‹åŠ¡çŠ¶æ€è®°å½•ï¼‰ã€‚"),v("br"),_._v(" "),v("strong",[_._v("é€‚ç”¨åœºæ™¯")]),_._v("ï¼š")])])]),_._v(" "),v("li",[_._v("é«˜æ€§èƒ½éœ€æ±‚ï¼ˆå¦‚æ”¯ä»˜ã€ç§’æ€ï¼‰ï¼Œæˆ–éœ€å¼ºéš”ç¦»æ€§çš„é‡‘èä¸šåŠ¡ã€‚"),v("br"),_._v(" "),v("strong",[_._v("ä¼˜ç‚¹")]),_._v("ï¼š")]),_._v(" "),v("li",[_._v("æ— å…¨å±€é”ï¼Œæ€§èƒ½ä¼˜äº AT æ¨¡å¼ã€‚"),v("br"),_._v(" "),v("strong",[_._v("ç¼ºç‚¹")]),_._v("ï¼š")]),_._v(" "),v("li",[_._v("ä»£ç ä¾µå…¥æ€§å¼ºï¼Œéœ€ä¸ºæ¯ä¸ªä¸šåŠ¡ç¼–å†™ä¸‰é˜¶æ®µé€»è¾‘ã€‚")])]),_._v(" "),v("hr"),_._v(" "),v("h3",{attrs:{id:"ğŸ”„-3-saga-æ¨¡å¼"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”„-3-saga-æ¨¡å¼"}},[_._v("#")]),_._v(" ğŸ”„ "),v("strong",[_._v("3. SAGA æ¨¡å¼")])]),_._v(" "),v("p",[v("strong",[_._v("åŸç†")]),_._v("ï¼š"),v("strong",[_._v("é•¿äº‹åŠ¡æ‹†åˆ†")]),_._v("ä¸ºå¤šä¸ªæœ¬åœ°äº‹åŠ¡ï¼Œé€šè¿‡ "),v("strong",[_._v("è¡¥å¿æ“ä½œ")]),_._v(" å®ç°æœ€ç»ˆä¸€è‡´æ€§ã€‚"),v("br"),_._v(" "),v("strong",[_._v("å®ç°æ–¹å¼")]),_._v("ï¼š")]),_._v(" "),v("ul",[v("li",[v("strong",[_._v("ç¼–æ’å¼ï¼ˆOrchestrationï¼‰")]),_._v("ï¼š\n"),v("ul",[v("li",[_._v("ä¸­å¤®åè°ƒå™¨ï¼ˆå¦‚ Seata çŠ¶æ€æœºï¼‰æ§åˆ¶æµç¨‹ï¼Œä¾æ¬¡è°ƒç”¨æœåŠ¡ã€‚")])])]),_._v(" "),v("li",[v("strong",[_._v("ååŒå¼ï¼ˆChoreographyï¼‰")]),_._v("ï¼š\n"),v("ul",[v("li",[_._v("æœåŠ¡é—´é€šè¿‡ "),v("strong",[_._v("äº‹ä»¶é©±åŠ¨")]),_._v("ï¼ˆå¦‚æ¶ˆæ¯é˜Ÿåˆ—ï¼‰è§¦å‘åç»­æ“ä½œã€‚"),v("br"),_._v(" "),v("strong",[_._v("å·¥ä½œæµç¨‹")]),_._v("ï¼š")])])]),_._v(" "),v("li",[_._v("è‹¥æŸæ­¥éª¤å¤±è´¥ï¼ŒæŒ‰ "),v("strong",[_._v("é€†åºè§¦å‘è¡¥å¿æ“ä½œ")]),_._v("ï¼ˆå¦‚è®¢å•å–æ¶ˆ â†’ åº“å­˜æ¢å¤ï¼‰ã€‚"),v("br"),_._v(" "),v("strong",[_._v("é€‚ç”¨åœºæ™¯")]),_._v("ï¼š")]),_._v(" "),v("li",[_._v("è·¨æœåŠ¡é•¿æµç¨‹ï¼ˆå¦‚ç”µå•†ä¸‹å•ã€ä¿é™©ç†èµ”ï¼‰ï¼Œæ”¯æŒå¼‚æ­¥æ‰§è¡Œã€‚"),v("br"),_._v(" "),v("strong",[_._v("ä¼˜ç‚¹")]),_._v("ï¼š")]),_._v(" "),v("li",[_._v("æ”¯æŒå¤æ‚ä¸šåŠ¡æµç¨‹ï¼Œæ— é˜»å¡é—®é¢˜ã€‚"),v("br"),_._v(" "),v("strong",[_._v("ç¼ºç‚¹")]),_._v("ï¼š")]),_._v(" "),v("li",[_._v("è¡¥å¿é€»è¾‘å¤æ‚ï¼Œéœ€ä¿è¯ "),v("strong",[_._v("æœ€ç»ˆä¸€è‡´æ€§")]),_._v("ã€‚")])]),_._v(" "),v("hr"),_._v(" "),v("h3",{attrs:{id:"ğŸ—‚ï¸-4-xa-æ¨¡å¼"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ—‚ï¸-4-xa-æ¨¡å¼"}},[_._v("#")]),_._v(" ğŸ—‚ï¸ "),v("strong",[_._v("4. XA æ¨¡å¼")])]),_._v(" "),v("p",[v("strong",[_._v("åŸç†")]),_._v("ï¼šåŸºäºæ•°æ®åº“çš„ "),v("strong",[_._v("æ ‡å‡†ä¸¤é˜¶æ®µæäº¤ï¼ˆ2PCï¼‰")]),_._v("ï¼Œç”±äº‹åŠ¡ç®¡ç†å™¨ï¼ˆTMï¼‰åè°ƒèµ„æºç®¡ç†å™¨ï¼ˆRMï¼‰ã€‚")]),_._v(" "),v("ul",[v("li",[v("strong",[_._v("ä¸€é˜¶æ®µï¼ˆPrepareï¼‰")]),_._v("ï¼šå„å‚ä¸è€…é¢„æäº¤å¹¶é”å®šèµ„æºã€‚")]),_._v(" "),v("li",[v("strong",[_._v("äºŒé˜¶æ®µï¼ˆCommit/Rollbackï¼‰")]),_._v("ï¼šåè°ƒè€…æ ¹æ®ä¸€é˜¶æ®µç»“æœé€šçŸ¥æäº¤æˆ–å›æ»šã€‚"),v("br"),_._v(" "),v("strong",[_._v("é€‚ç”¨åœºæ™¯")]),_._v("ï¼š")]),_._v(" "),v("li",[_._v("å¼ºä¾èµ–æ•°æ®åº“äº‹åŠ¡åè®®çš„ä¼ ç»Ÿç³»ç»Ÿï¼ˆå¦‚é“¶è¡Œè½¬è´¦ï¼‰ã€‚"),v("br"),_._v(" "),v("strong",[_._v("ä¼˜ç‚¹")]),_._v("ï¼š")]),_._v(" "),v("li",[_._v("å¼ºä¸€è‡´æ€§ä¿è¯ï¼Œå…¼å®¹æ”¯æŒ XA åè®®çš„æ•°æ®åº“ï¼ˆå¦‚ MySQLã€Oracleï¼‰ã€‚"),v("br"),_._v(" "),v("strong",[_._v("ç¼ºç‚¹")]),_._v("ï¼š")]),_._v(" "),v("li",[_._v("æ€§èƒ½ä½ï¼ˆåŒæ­¥é˜»å¡ï¼‰ï¼Œåè°ƒè€…å•ç‚¹æ•…éšœé£é™©ã€‚")])]),_._v(" "),v("hr"),_._v(" "),v("h3",{attrs:{id:"ğŸ’-æ¨¡å¼å¯¹æ¯”ä¸é€‰å‹å»ºè®®"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ’-æ¨¡å¼å¯¹æ¯”ä¸é€‰å‹å»ºè®®"}},[_._v("#")]),_._v(" ğŸ’ "),v("strong",[_._v("æ¨¡å¼å¯¹æ¯”ä¸é€‰å‹å»ºè®®")])]),_._v(" "),v("table",[v("thead",[v("tr",[v("th",[v("strong",[_._v("æ¨¡å¼")])]),_._v(" "),v("th",[v("strong",[_._v("ä¸€è‡´æ€§")])]),_._v(" "),v("th",[v("strong",[_._v("ä¾µå…¥æ€§")])]),_._v(" "),v("th",[v("strong",[_._v("æ€§èƒ½")])]),_._v(" "),v("th",[v("strong",[_._v("é€‚ç”¨åœºæ™¯")])])])]),_._v(" "),v("tbody",[v("tr",[v("td",[v("strong",[_._v("AT")])]),_._v(" "),v("td",[_._v("æœ€ç»ˆä¸€è‡´")]),_._v(" "),v("td",[_._v("æ— ")]),_._v(" "),v("td",[_._v("ä¸­ï¼ˆæœ‰é”é˜»å¡ï¼‰")]),_._v(" "),v("td",[_._v("å¸¸è§„ä¸šåŠ¡ï¼ˆè®¢å•ã€åº“å­˜ï¼‰")])]),_._v(" "),v("tr",[v("td",[v("strong",[_._v("TCC")])]),_._v(" "),v("td",[_._v("æœ€ç»ˆä¸€è‡´")]),_._v(" "),v("td",[_._v("é«˜")]),_._v(" "),v("td",[_._v("é«˜")]),_._v(" "),v("td",[_._v("é«˜å¹¶å‘ã€é‡‘èäº¤æ˜“")])]),_._v(" "),v("tr",[v("td",[v("strong",[_._v("SAGA")])]),_._v(" "),v("td",[_._v("æœ€ç»ˆä¸€è‡´")]),_._v(" "),v("td",[_._v("ä¸­")]),_._v(" "),v("td",[_._v("é«˜ï¼ˆå¼‚æ­¥ï¼‰")]),_._v(" "),v("td",[_._v("é•¿æµç¨‹ã€è·¨æœåŠ¡ä¸šåŠ¡")])]),_._v(" "),v("tr",[v("td",[v("strong",[_._v("XA")])]),_._v(" "),v("td",[_._v("å¼ºä¸€è‡´")]),_._v(" "),v("td",[_._v("ä½")]),_._v(" "),v("td",[_._v("ä½")]),_._v(" "),v("td",[_._v("ä¼ ç»Ÿæ•°æ®åº“å¼ºä¸€è‡´éœ€æ±‚")])])])]),_._v(" "),v("blockquote",[v("p",[v("strong",[_._v("é€‰å‹åŸåˆ™")]),_._v("ï¼š")]),_._v(" "),v("ul",[v("li",[_._v("è¿½æ±‚ä½ä¾µå…¥ â†’ "),v("strong",[_._v("AT æ¨¡å¼")])]),_._v(" "),v("li",[_._v("è¿½æ±‚é«˜æ€§èƒ½ â†’ "),v("strong",[_._v("TCC æ¨¡å¼")])]),_._v(" "),v("li",[_._v("æµç¨‹å¤æ‚ä¸”é•¿ â†’ "),v("strong",[_._v("SAGA æ¨¡å¼")])]),_._v(" "),v("li",[_._v("å¼ºä¸€è‡´æ€§éœ€æ±‚ â†’ "),v("strong",[_._v("XA æ¨¡å¼")])])])]),_._v(" "),v("hr"),_._v(" "),v("h3",{attrs:{id:"âš ï¸-ç”Ÿäº§æ³¨æ„äº‹é¡¹"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#âš ï¸-ç”Ÿäº§æ³¨æ„äº‹é¡¹"}},[_._v("#")]),_._v(" âš ï¸ "),v("strong",[_._v("ç”Ÿäº§æ³¨æ„äº‹é¡¹")])]),_._v(" "),v("ol",[v("li",[v("strong",[_._v("å¹‚ç­‰è®¾è®¡")]),_._v("ï¼šTCC/SAGA çš„ Confirm/Cancel éœ€æ”¯æŒé‡å¤è°ƒç”¨ã€‚")]),_._v(" "),v("li",[v("strong",[_._v("éš”ç¦»æ€§è¡¥å¿")]),_._v("ï¼šAT æ¨¡å¼å¯èƒ½è„è¯»ï¼Œå¯é€šè¿‡ "),v("code",[_._v("SELECT FOR UPDATE")]),_._v(" å¼ºåˆ¶è¯»å·²æäº¤ã€‚")]),_._v(" "),v("li",[v("strong",[_._v("ç›‘æ§ä¸æ—¥å¿—")]),_._v("ï¼šä½¿ç”¨ Seata Dashboard è·Ÿè¸ªå…¨å±€äº‹åŠ¡çŠ¶æ€ã€‚")])]),_._v(" "),v("blockquote",[v("p",[_._v("å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š"),v("a",{attrs:{href:"https://seata.io/zh-cn/docs/user/mode.html",target:"_blank",rel:"noopener noreferrer"}},[_._v("Seata äº‹åŠ¡æ¨¡å¼è¯¦è§£"),v("OutboundLink")],1),_._v("ã€‚")])])])}),[],!1,null,null,null);v.default=o.exports}}]);